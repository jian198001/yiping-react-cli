"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[49],{97881:function(ve,Z,e){e.r(Z),e.d(Z,{default:function(){return pe}});var L=e(15009),i=e.n(L),x=e(99289),g=e.n(x),G=e(19632),H=e.n(G),W=e(5574),C=e.n(W),b=e(97857),T=e.n(b),I=e(37476),B=e(26855),n=e(2453),u=e(12578);function ce(a,c,d){return k.apply(this,arguments)}function k(){return k=g()(i()().mark(function a(c,d,l){var t;return i()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return t="/staff/web/userCenter/notice/notice/page.json",v.abrupt("return",u.request===null||u.request===void 0?void 0:(0,u.request)(t,{method:"GET",params:{params:c,sort:d,filter:l}}));case 2:case"end":return v.stop()}},a)})),k.apply(this,arguments)}function Y(a){return z.apply(this,arguments)}function z(){return z=g()(i()().mark(function a(c){var d;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d="/staff/web/userCenter/notice/notice/update.json",t.abrupt("return",u.request===null||u.request===void 0?void 0:(0,u.request)(d,{method:"POST",data:c}));case 2:case"end":return t.stop()}},a)})),z.apply(this,arguments)}function N(a){return J.apply(this,arguments)}function J(){return J=g()(i()().mark(function a(c){var d;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d="/staff/web/userCenter/notice/notice/getById.json",t.abrupt("return",u.request===null||u.request===void 0?void 0:(0,u.request)(d,{method:"GET",params:{id:c}}));case 2:case"end":return t.stop()}},a)})),J.apply(this,arguments)}function Q(a){return X.apply(this,arguments)}function X(){return X=g()(i()().mark(function a(c){var d;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d="/staff/web/userCenter/notice/notice/del.json",t.abrupt("return",u.request===null||u.request===void 0?void 0:(0,u.request)(d,{method:"POST",data:T()({},c)}));case 2:case"end":return t.stop()}},a)})),X.apply(this,arguments)}function he(){return q.apply(this,arguments)}function q(){return q=_asyncToGenerator(_regeneratorRuntime().mark(function a(){var c;return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return c="/staff/web/userCenter/notice/notice/page.json",l.abrupt("return",request==null?void 0:request(c,{method:"GET",params:{pageNum:1,pageSize:0}}));case 2:case"end":return l.stop()}},a)})),q.apply(this,arguments)}var j=e(67294),ie=[{valueType:"group",columns:[{title:"\u6807 \u9898",dataIndex:"name",sorter:!0,formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}]},width:"m"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createDate",sorter:!0,hideInForm:!0,valueType:"datetime"}]},{valueType:"group",columns:[{title:"\u5185 \u5BB9",dataIndex:"content",sorter:!1,valueType:"textarea",hideInTable:!0,hideInSearch:!0,width:"lg"}]}],m=e(85893),de=function(a,c){var d,l=(d=j.useRef)===null||d===void 0?void 0:d(),t=(0,j.useState)(!1),O=C()(t,2),v=O[0],h=O[1],V=n.ZP.useMessage(),R=C()(V,2),S=R[0],F=R[1],re=function(){var D=g()(i()().mark(function y(){var o,r,s,_,f;return i()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!p){E.next=8;break}return E.next=3,N==null?void 0:N(p);case 3:if(s=E.sent,console.log(s),!(s!=null&&s.data)){E.next=7;break}return E.abrupt("return",l==null||(_=l.current)===null||_===void 0||(f=_.setFieldsValue)===null||f===void 0?void 0:f.call(_,T()({},s==null?void 0:s.data)));case 7:return E.abrupt("return",l==null||(o=l.current)===null||o===void 0||(r=o.setFieldsValue)===null||r===void 0?void 0:r.call(o,{id:p}));case 8:case"end":return E.stop()}},y)}));return function(){return D.apply(this,arguments)}}(),U={id:"",title:""},p=a.id,ne=a.trigger,A=a.onOk,ae=function(){var D=g()(i()().mark(function y(o){var r,s;return i()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return h==null||h(!0),o=T()(T()({},o),{},{id:p}),f.next=4,Y==null?void 0:Y(o);case 4:if(r=f.sent,(r==null?void 0:r.code)===0){f.next=10;break}return h==null||h(!1),f.abrupt("return",!1);case 10:return S==null||(s=S.success)===null||s===void 0||s.call(S,"\u63D0\u4EA4\u6210\u529F"),A==null||A(),h==null||h(!1),f.abrupt("return",!0);case 14:case"end":return f.stop()}},y)}));return function(o){return D.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[F,(0,m.jsx)(I.Y,{formRef:l,onFinish:ae,modalProps:{destroyOnClose:!0,okButtonProps:{loading:v}},onOpenChange:re,initialValues:U,title:"\u7F16\u8F91\u4FE1\u606F",trigger:ne,children:(0,m.jsx)(B.Z,{layoutType:"Embed",columns:ie})})]})},fe=e(97131),me=e(30077),ee=e(14726),w=e(28248),$=e(19515),pe=function(){var a,c,d=(0,j.useState)(""),l=C()(d,2),t=l[0],O=l[1],v=(a=j.useRef)===null||a===void 0?void 0:a(),h=j.useState===null||j.useState===void 0?void 0:(0,j.useState)([]),V=C()(h,2),R=V[0],S=V[1],F=u.useIntl===null||u.useIntl===void 0?void 0:(0,u.useIntl)(),re=n.ZP===null||n.ZP===void 0||(c=n.ZP.useMessage)===null||c===void 0?void 0:c.call(n.ZP),U=C()(re,2),p=U[0],ne=U[1],A=[].concat(H()($.P===null||$.P===void 0?void 0:(0,$.P)(ie)),[{title:(0,m.jsx)(u.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(o,r){var s;return[(0,m.jsx)(de,{trigger:(0,m.jsx)(ee.ZP,{children:"\u7F16 \u8F91"}),id:r==null?void 0:r.id,onOk:v==null||(s=v.current)===null||s===void 0?void 0:s.reload},r.id)]}}]),ae=function(){var y=g()(i()().mark(function o(r){var s;return i()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:w.Z===null||w.Z===void 0||(s=w.Z.confirm)===null||s===void 0||s.call(w.Z,{title:"\u64CD\u4F5C\u63D0\u793A",content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\u8FD9"+(r==null?void 0:r.length)+"\u9879\u4FE1\u606F?\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D",onOk:function(){g()(i()().mark(function E(){var te,P,ue,K,le,se;return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,Q==null?void 0:Q(r==null||(te=r.map)===null||te===void 0?void 0:te.call(r,function(oe){return oe==null?void 0:oe.id}));case 2:if(P=M.sent,(P==null?void 0:P.code)===0){M.next=7;break}return M.abrupt("return",p==null||(ue=p.error)===null||ue===void 0?void 0:ue.call(p,(P==null?void 0:P.message)||"\u5220\u9664\u64CD\u4F5C\u5931\u8D25,\u8BF7\u91CD\u8BD5"));case 7:S==null||S([]),v==null||(K=v.current)===null||K===void 0||(le=K.reload)===null||le===void 0||le.call(K),p==null||(se=p.success)===null||se===void 0||se.call(p,(P==null?void 0:P.message)||"\u5220\u9664\u64CD\u4F5C\u6210\u529F");case 10:case"end":return M.stop()}},E)}))()}});case 1:case"end":return f.stop()}},o)}));return function(r){return y.apply(this,arguments)}}(),D=function(){var o;O==null||O($.V===null||$.V===void 0?void 0:(0,$.V)()),v==null||(o=v.current)===null||o===void 0||o.reload()};return j.useEffect===null||j.useEffect===void 0||(0,j.useEffect)(function(){O==null||O($.V===null||$.V===void 0?void 0:(0,$.V)())},[]),(0,m.jsxs)(fe._z,{children:[ne,(0,m.jsx)(me.Z,{headerTitle:F==null?void 0:F.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u67E5\u8BE2\u8868\u683C"}),actionRef:v,rowKey:"id",toolBarRender:function(){return[(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ee.ZP,{danger:!0,disabled:!R||!R.length,onClick:function(){ae(R)},children:"\u5220 \u9664"}),(0,m.jsx)(de,{trigger:(0,m.jsx)(ee.ZP,{type:"primary",children:" \u65B0 \u5EFA "}),id:t,onOk:D})]})]},request:ce,columns:A,rowSelection:{onChange:function(o,r){S(r)}}})]})}},19515:function(ve,Z,e){e.d(Z,{P:function(){return C},V:function(){return W}});var L=e(64599),i=e.n(L),x=e(19632),g=e.n(x),G=e(27484),H=e.n(G);function W(){var b=H()().format("YYYYMMDDHHmmssSSS").toString();return b}function C(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=g()(b),I=i()(T),B;try{for(I.s();!(B=I.n()).done;){var n=B.value;!(n!=null&&n.valueType)||(n==null?void 0:n.valueType)!=="group"||!(n!=null&&n.columns)||!(n!=null&&n.columns.length)||T.push.apply(T,g()(n==null?void 0:n.columns))}}catch(u){I.e(u)}finally{I.f()}return T.filter(function(u){return u.valueType!=="group"})}}}]);
