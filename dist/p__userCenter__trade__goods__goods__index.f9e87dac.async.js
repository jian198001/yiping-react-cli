"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[135],{87235:function(oe,A,e){e.r(A),e.d(A,{default:function(){return ce}});var w=e(15009),s=e.n(w),U=e(99289),f=e.n(U),K=e(19632),L=e.n(K),W=e(5574),M=e.n(W),x=e(97857),I=e.n(x),Z=e(37476),V=e(26855),r=e(2453),l=e(12578);function se(i,c,u){return H.apply(this,arguments)}function H(){return H=f()(s()().mark(function i(c,u,E){var a;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a="/staff/web/userCenter/goods/goods/page.json",n.abrupt("return",l.request===null||l.request===void 0?void 0:(0,l.request)(a,{method:"GET",params:{params:c,sort:u,filter:E}}));case 2:case"end":return n.stop()}},i)})),H.apply(this,arguments)}function Y(i){return G.apply(this,arguments)}function G(){return G=f()(s()().mark(function i(c){var u;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u="/staff/web/userCenter/goods/goods/update.json",a.abrupt("return",l.request===null||l.request===void 0?void 0:(0,l.request)(u,{method:"POST",data:c}));case 2:case"end":return a.stop()}},i)})),G.apply(this,arguments)}function N(i){return z.apply(this,arguments)}function z(){return z=f()(s()().mark(function i(c){var u;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u="/staff/web/userCenter/goods/goods/getById.json",a.abrupt("return",l.request===null||l.request===void 0?void 0:(0,l.request)(u,{method:"GET",params:{id:c}}));case 2:case"end":return a.stop()}},i)})),z.apply(this,arguments)}function J(i){return Q.apply(this,arguments)}function Q(){return Q=f()(s()().mark(function i(c){var u;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u="/staff/web/userCenter/goods/goods/del.json",a.abrupt("return",l.request===null||l.request===void 0?void 0:(0,l.request)(u,{method:"POST",data:I()({},c)}));case 2:case"end":return a.stop()}},i)})),Q.apply(this,arguments)}var g=e(67294),le=[{valueType:"group",columns:[{title:"\u540D \u79F0",dataIndex:"name",sorter:!0,formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}]}},{title:"\u5206 \u7C7B",dataIndex:"goodsCategoryName",sorter:!0,valueType:"select",width:"sm"}]},{valueType:"group",columns:[{title:"\u8D27 \u53F7",dataIndex:"goodsSn",sorter:!0,tooltip:"\u5982\u672A\u586B\u5199,\u5C06\u81EA\u52A8\u751F\u6210"}]},{valueType:"group",columns:[{title:"\u8D77\u552E\u6570\u91CF",dataIndex:"startSaleNum",sorter:!0,valueType:"digit",tooltip:"\u6B63\u6570",initialValue:1},{title:"\u9650 \u8D2D",dataIndex:"quota",sorter:!0,valueType:"digit",initialValue:99999,tooltip:"\u96F6\u6216\u6B63\u6570,\u96F6\u4EE3\u8868\u4E0D\u9650\u8D2D"}]},{valueType:"group",columns:[{title:"\u8BA1\u91CF\u5355\u4F4D",dataIndex:"unit",sorter:!0,valueType:"select",valueEnum:{item:"\u4EF6",mass:"\u8D28\u91CF(\u516C\u65A4kg)",volume:"\u4F53\u79EF(\u6BEB\u5347ml)",time:"\u65F6\u95F4(\u5206minute)",length:"\u8DDD\u79BB(\u516C\u91CCkm)",area:"\u9762\u79EF(\u5E73\u65B9\u7C73m2)"},width:"sm",initialValue:"item"},{title:"\u5E93\u5B58\u51CF\u5C11\u65B9\u5F0F",dataIndex:"subStock",sorter:!0,valueType:"select",valueEnum:{order:"\u4E0B\u5355\u51CF\u5E93\u5B58",pay:"\u4ED8\u6B3E\u51CF\u5E93\u5B58",delivery:"\u53D1\u8D27\u6216\u6838\u9500\u51CF\u5E93\u5B58"},width:"sm",initialValue:"order"}]},{valueType:"group",columns:[{title:"\u7269 \u6D41",dataIndex:"delivery",sorter:!0,valueType:"select",valueEnum:{delivery:"\u9700\u8981",eticket:"\u7535\u5B50\u51ED\u8BC1\u4E0D\u9700\u8981"},width:"sm",initialValue:"eticket"},{title:"\u8FD0\u8D39\u627F\u62C5\u65B9\u5F0F",dataIndex:"freightPayer",sorter:!0,valueType:"select",hideInTable:!0,hideInSearch:!0,valueEnum:{seller:"\u5356\u5BB6\u627F\u62C5(\u5305\u90AE)",buyer:"\u4E70\u5BB6\u627F\u62C5"},width:"sm",initialValue:"seller"}]},{valueType:"group",columns:[{title:"\u8D28\u91CF(kg)",dataIndex:"mass",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"},{title:"\u4F53\u79EF-\u957F\u5EA6(m)",dataIndex:"length",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"}]},{valueType:"group",columns:[{title:"\u4F53\u79EF-\u5BBD\u5EA6(m)",dataIndex:"breadth",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"},{title:"\u4F53\u79EF-\u9AD8\u5EA6(m)",dataIndex:"height",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"}]}],v=e(85893),ie=function(i){var c,u=(c=g.useRef)===null||c===void 0?void 0:c(),E=(0,g.useState)(!1),a=M()(E,2),S=a[0],n=a[1],X=function(){var _=f()(s()().mark(function m(){var p,j,d,h,y;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!C){t.next=7;break}return t.next=3,N==null?void 0:N(C);case 3:if(d=t.sent,!(d!=null&&d.data)){t.next=6;break}return t.abrupt("return",u==null||(h=u.current)===null||h===void 0||(y=h.setFieldsValue)===null||y===void 0?void 0:y.call(h,I()({},d==null?void 0:d.data)));case 6:return t.abrupt("return",u==null||(p=u.current)===null||p===void 0||(j=p.setFieldsValue)===null||j===void 0?void 0:j.call(p,{id:C}));case 7:case"end":return t.stop()}},m)}));return function(){return _.apply(this,arguments)}}(),D={id:"",title:""},C=i.id,F=i.trigger,O=i.onOk,q=function(){var _=f()(s()().mark(function m(p){var j,d,h;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n==null||n(!0),p=I()(I()({},p),{},{id:C}),o.next=4,Y==null?void 0:Y(p);case 4:if(d=o.sent,(d==null?void 0:d.code)===0){o.next=9;break}return r.ZP===null||r.ZP===void 0||(h=r.ZP.error)===null||h===void 0||h.call(r.ZP,d==null?void 0:d.message),n==null||n(!1),o.abrupt("return",!1);case 9:return r.ZP===null||r.ZP===void 0||(j=r.ZP.success)===null||j===void 0||j.call(r.ZP,"\u63D0\u4EA4\u6210\u529F"),O==null||O(),n==null||n(!1),o.abrupt("return",!0);case 13:case"end":return o.stop()}},m)}));return function(p){return _.apply(this,arguments)}}();return(0,v.jsx)(Z.Y,{formRef:u,onFinish:q,modalProps:{destroyOnClose:!0,okButtonProps:{loading:S}},onOpenChange:X,initialValues:D,title:"\u7F16\u8F91\u4FE1\u606F",trigger:F,children:(0,v.jsx)(V.Z,{layoutType:"Embed",columns:le})})},de=e(97131),ve=e(30077),R=e(14726),B=e(28248),P=e(19515),ce=function(){var i,c,u=(0,g.useState)(""),E=M()(u,2),a=E[0],S=E[1],n=(i=g.useRef)===null||i===void 0?void 0:i(),X=g.useState===null||g.useState===void 0?void 0:(0,g.useState)([]),D=M()(X,2),C=D[0],F=D[1],O=l.useIntl===null||l.useIntl===void 0?void 0:(0,l.useIntl)(),q=r.ZP===null||r.ZP===void 0||(c=r.ZP.useMessage)===null||c===void 0?void 0:c.call(r.ZP),_=M()(q,2),m=_[0],p=_[1],j=[].concat(L()(P.P===null||P.P===void 0?void 0:(0,P.P)(le)),[{title:(0,v.jsx)(l.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(o,t){var b;return[(0,v.jsx)(ie,{trigger:(0,v.jsx)("a",{children:"\u7F16 \u8F91"}),id:t==null?void 0:t.id,onOk:n==null||(b=n.current)===null||b===void 0?void 0:b.reload}),(0,v.jsx)(R.ZP,{children:"\u7F16\u8F91\u89C4\u683C\u53CA\u4EF7\u683C"}),(0,v.jsx)(R.ZP,{children:"\u4E0A \u67B6"}),(0,v.jsx)(R.ZP,{children:"\u4E0B \u67B6"}),(0,v.jsx)(R.ZP,{children:"\u5220 \u9664"})]}}]),d=function(){var y=f()(s()().mark(function o(t){var b;return s()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:B.Z===null||B.Z===void 0||(b=B.Z.confirm)===null||b===void 0||b.call(B.Z,{title:"\u64CD\u4F5C\u63D0\u793A",content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\u8FD9"+(t==null?void 0:t.length)+"\u9879\u4FE1\u606F?\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D",onOk:function(){f()(s()().mark(function me(){var re,T,ne,k,te,ae;return s()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,J==null?void 0:J(t==null||(re=t.map)===null||re===void 0?void 0:re.call(t,function(ue){return ue==null?void 0:ue.id}));case 2:if(T=$.sent,(T==null?void 0:T.code)===0){$.next=7;break}return $.abrupt("return",m==null||(ne=m.error)===null||ne===void 0?void 0:ne.call(m,(T==null?void 0:T.message)||"\u5220\u9664\u64CD\u4F5C\u5931\u8D25,\u8BF7\u91CD\u8BD5"));case 7:F==null||F([]),n==null||(k=n.current)===null||k===void 0||(te=k.reload)===null||te===void 0||te.call(k),m==null||(ae=m.success)===null||ae===void 0||ae.call(m,(T==null?void 0:T.message)||"\u5220\u9664\u64CD\u4F5C\u6210\u529F");case 10:case"end":return $.stop()}},me)}))()}});case 1:case"end":return ee.stop()}},o)}));return function(t){return y.apply(this,arguments)}}(),h=function(){var o;S==null||S(P.V===null||P.V===void 0?void 0:(0,P.V)()),n==null||(o=n.current)===null||o===void 0||o.reload()};return g.useEffect===null||g.useEffect===void 0||(0,g.useEffect)(function(){S==null||S(P.V===null||P.V===void 0?void 0:(0,P.V)())},[]),(0,v.jsxs)(de._z,{children:[p,(0,v.jsx)(ve.Z,{headerTitle:O==null?void 0:O.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u67E5\u8BE2\u8868\u683C"}),actionRef:n,rowKey:"id",toolBarRender:function(){return[(0,v.jsxs)(v.Fragment,{children:[" ",(0,v.jsx)(R.ZP,{danger:!0,disabled:!C||!C.length,onClick:function(){d(C)},children:"\u5220 \u9664"}),(0,v.jsx)(ie,{trigger:(0,v.jsx)(R.ZP,{type:"primary",children:" \u65B0 \u5EFA "}),id:a,onOk:h})]})]},request:se,columns:j,rowSelection:{onChange:function(o,t){F(t)}}})]})}},19515:function(oe,A,e){e.d(A,{P:function(){return M},V:function(){return W}});var w=e(64599),s=e.n(w),U=e(19632),f=e.n(U),K=e(27484),L=e.n(K);function W(){var x=L()().format("YYYYMMDDHHmmssSSS").toString();return x}function M(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],I=f()(x),Z=s()(I),V;try{for(Z.s();!(V=Z.n()).done;){var r=V.value;!(r!=null&&r.valueType)||(r==null?void 0:r.valueType)!=="group"||!(r!=null&&r.columns)||!(r!=null&&r.columns.length)||I.push.apply(I,f()(r==null?void 0:r.columns))}}catch(l){Z.e(l)}finally{Z.f()}return I.filter(function(l){return l.valueType!=="group"})}}}]);
