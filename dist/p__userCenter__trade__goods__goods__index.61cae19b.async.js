"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[135],{87235:function(oe,V,e){e.r(V),e.d(V,{default:function(){return ce}});var U=e(15009),i=e.n(U),K=e(99289),m=e.n(K),L=e(19632),W=e.n(L),H=e(5574),R=e.n(H),A=e(97857),P=e.n(A),_=e(37476),B=e(26855),r=e(2453),t=e(12578);function ie(o,c,a){return Y.apply(this,arguments)}function Y(){return Y=m()(i()().mark(function o(c,a,S){var u;return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u="/staff/web/userCenter/goods/goods/page.json",n.abrupt("return",t.request===null||t.request===void 0?void 0:(0,t.request)(u,{method:"GET",params:{params:c,sort:a,filter:S}}));case 2:case"end":return n.stop()}},o)})),Y.apply(this,arguments)}function G(o){return N.apply(this,arguments)}function N(){return N=m()(i()().mark(function o(c){var a;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a="/staff/web/userCenter/goods/goods/update.json",u.abrupt("return",t.request===null||t.request===void 0?void 0:(0,t.request)(a,{method:"POST",data:c}));case 2:case"end":return u.stop()}},o)})),N.apply(this,arguments)}function z(o){return J.apply(this,arguments)}function J(){return J=m()(i()().mark(function o(c){var a;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a="/staff/web/userCenter/goods/goods/getById.json",u.abrupt("return",t.request===null||t.request===void 0?void 0:(0,t.request)(a,{method:"GET",params:{id:c}}));case 2:case"end":return u.stop()}},o)})),J.apply(this,arguments)}function se(o){return Q.apply(this,arguments)}function Q(){return Q=m()(i()().mark(function o(c){var a;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a="/staff/web/userCenter/goods/goods/del.json",u.abrupt("return",t.request===null||t.request===void 0?void 0:(0,t.request)(a,{method:"POST",data:P()({},c)}));case 2:case"end":return u.stop()}},o)})),Q.apply(this,arguments)}var p=e(67294),ue=[{valueType:"group",columns:[{title:"\u540D \u79F0",dataIndex:"name",sorter:!0,formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}]}},{title:"\u5206 \u7C7B",dataIndex:"goodsCategoryName",sorter:!0,valueType:"select",width:"sm"}]},{valueType:"group",columns:[{title:"\u8D27 \u53F7",dataIndex:"goodsSn",sorter:!0,tooltip:"\u5982\u672A\u586B\u5199,\u5C06\u81EA\u52A8\u751F\u6210"}]},{valueType:"group",columns:[{title:"\u8D77\u552E\u6570\u91CF",dataIndex:"startSaleNum",sorter:!0,valueType:"digit",tooltip:"\u6B63\u6570",initialValue:1},{title:"\u9650 \u8D2D",dataIndex:"quota",sorter:!0,valueType:"digit",initialValue:99999,tooltip:"\u96F6\u6216\u6B63\u6570,\u96F6\u4EE3\u8868\u4E0D\u9650\u8D2D"}]},{valueType:"group",columns:[{title:"\u8BA1\u91CF\u5355\u4F4D",dataIndex:"unit",sorter:!0,valueType:"select",valueEnum:{item:"\u4EF6",mass:"\u8D28\u91CF(\u516C\u65A4kg)",volume:"\u4F53\u79EF(\u6BEB\u5347ml)",time:"\u65F6\u95F4(\u5206minute)",length:"\u8DDD\u79BB(\u516C\u91CCkm)",area:"\u9762\u79EF(\u5E73\u65B9\u7C73m2)"},width:"sm",initialValue:"item"},{title:"\u5E93\u5B58\u51CF\u5C11\u65B9\u5F0F",dataIndex:"subStock",sorter:!0,valueType:"select",valueEnum:{order:"\u4E0B\u5355\u51CF\u5E93\u5B58",pay:"\u4ED8\u6B3E\u51CF\u5E93\u5B58",delivery:"\u53D1\u8D27\u6216\u6838\u9500\u51CF\u5E93\u5B58"},width:"sm",initialValue:"order"}]},{valueType:"group",columns:[{title:"\u7269 \u6D41",dataIndex:"delivery",sorter:!0,valueType:"select",valueEnum:{delivery:"\u9700\u8981",eticket:"\u7535\u5B50\u51ED\u8BC1\u4E0D\u9700\u8981"},width:"sm",initialValue:"eticket"},{title:"\u8FD0\u8D39\u627F\u62C5\u65B9\u5F0F",dataIndex:"freightPayer",sorter:!0,valueType:"select",hideInTable:!0,hideInSearch:!0,valueEnum:{seller:"\u5356\u5BB6\u627F\u62C5(\u5305\u90AE)",buyer:"\u4E70\u5BB6\u627F\u62C5"},width:"sm",initialValue:"seller"}]},{valueType:"group",columns:[{title:"\u8D28\u91CF(kg)",dataIndex:"mass",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"},{title:"\u4F53\u79EF-\u957F\u5EA6(m)",dataIndex:"length",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"}]},{valueType:"group",columns:[{title:"\u4F53\u79EF-\u5BBD\u5EA6(m)",dataIndex:"breadth",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"},{title:"\u4F53\u79EF-\u9AD8\u5EA6(m)",dataIndex:"height",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"}]}],v=e(85893),ae=function(o){var c,a=(c=p.useRef)===null||c===void 0?void 0:c(),S=(0,p.useState)(!1),u=R()(S,2),j=u[0],n=u[1],X=function(){var F=m()(i()().mark(function f(){var g,I,l,C,x;return i()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!O){y.next=7;break}return y.next=3,z==null?void 0:z(O);case 3:if(l=y.sent,!(l!=null&&l.data)){y.next=6;break}return y.abrupt("return",a==null||(C=a.current)===null||C===void 0||(x=C.setFieldsValue)===null||x===void 0?void 0:x.call(C,P()({},l==null?void 0:l.data)));case 6:return y.abrupt("return",a==null||(g=a.current)===null||g===void 0||(I=g.setFieldsValue)===null||I===void 0?void 0:I.call(g,{id:O}));case 7:case"end":return y.stop()}},f)}));return function(){return F.apply(this,arguments)}}(),k={id:"",title:""},O=o.id,Z=o.trigger,$=o.onOk,q=function(){var F=m()(i()().mark(function f(g){var I,l,C;return i()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n==null||n(!0),g=P()(P()({},g),{},{id:O}),h.next=4,G==null?void 0:G(g);case 4:if(l=h.sent,(l==null?void 0:l.code)===0){h.next=9;break}return r.ZP===null||r.ZP===void 0||(C=r.ZP.error)===null||C===void 0||C.call(r.ZP,l==null?void 0:l.message),n==null||n(!1),h.abrupt("return",!1);case 9:return r.ZP===null||r.ZP===void 0||(I=r.ZP.success)===null||I===void 0||I.call(r.ZP,"\u63D0\u4EA4\u6210\u529F"),$==null||$(),n==null||n(!1),h.abrupt("return",!0);case 13:case"end":return h.stop()}},f)}));return function(g){return F.apply(this,arguments)}}();return(0,v.jsx)(_.Y,{formRef:a,onFinish:q,modalProps:{destroyOnClose:!0,okButtonProps:{loading:j}},onOpenChange:X,initialValues:k,title:"\u7F16\u8F91\u4FE1\u606F",trigger:Z,children:(0,v.jsx)(B.Z,{layoutType:"Embed",columns:ue})})},de=e(97131),ve=e(30077),M=e(14726),D=e(28248),E=e(19515),ce=function(){var o,c,a=(0,p.useState)(""),S=R()(a,2),u=S[0],j=S[1],n=(o=p.useRef)===null||o===void 0?void 0:o(),X=p.useState===null||p.useState===void 0?void 0:(0,p.useState)([]),k=R()(X,2),O=k[0],Z=k[1],$=t.useIntl===null||t.useIntl===void 0?void 0:(0,t.useIntl)(),q=r.ZP===null||r.ZP===void 0||(c=r.ZP.useMessage)===null||c===void 0?void 0:c.call(r.ZP),F=R()(q,2),f=F[0],g=F[1],I=t.useRequest===null||t.useRequest===void 0?void 0:(0,t.useRequest)(se,{manual:!0,onSuccess:function(){var s,d,T;Z==null||Z([]),n==null||(s=n.current)===null||s===void 0||(d=s.reload)===null||d===void 0||d.call(s),f==null||(T=f.success)===null||T===void 0||T.call(f,"\u5220\u9664\u64CD\u4F5C\u6210\u529F")},onError:function(){var s;f==null||(s=f.error)===null||s===void 0||s.call(f,"\u5220\u9664\u64CD\u4F5C\u5931\u8D25,\u8BF7\u91CD\u8BD5")}}),l=I.run,C=I.loading,x=[].concat(W()(E.P===null||E.P===void 0?void 0:(0,E.P)(ue)),[{title:(0,v.jsx)(t.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(s,d){var T;return[(0,v.jsx)(ae,{trigger:(0,v.jsx)("a",{children:"\u7F16 \u8F91"}),id:d==null?void 0:d.id,onOk:n==null||(T=n.current)===null||T===void 0?void 0:T.reload}),(0,v.jsx)(M.ZP,{children:"\u7F16\u8F91\u89C4\u683C\u53CA\u4EF7\u683C"}),(0,v.jsx)(M.ZP,{children:"\u4E0A \u67B6"}),(0,v.jsx)(M.ZP,{children:"\u4E0B \u67B6"}),(0,v.jsx)(M.ZP,{children:"\u5220 \u9664"})]}}]),h=(0,p.useCallback)(function(){var b=m()(i()().mark(function s(d){var T;return i()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:D.Z===null||D.Z===void 0||(T=D.Z.confirm)===null||T===void 0||T.call(D.Z,{title:"\u64CD\u4F5C\u63D0\u793A",content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\u8FD9"+(d==null?void 0:d.length)+"\u9879\u4FE1\u606F?\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D",onOk:function(){var re;(re=function(){var fe=m()(i()().mark(function le(){var ne;return i()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,l==null?void 0:l(d==null||(ne=d.map)===null||ne===void 0?void 0:ne.call(d,function(te){return te==null?void 0:te.id}));case 2:case"end":return w.stop()}},le)}));return function(){return fe.apply(this,arguments)}}())===null||re===void 0||re()}});case 1:case"end":return ee.stop()}},s)}));return function(s){return b.apply(this,arguments)}}(),[l]),y=function(){var s;j==null||j(E.V===null||E.V===void 0?void 0:(0,E.V)()),n==null||(s=n.current)===null||s===void 0||s.reload()};return p.useEffect===null||p.useEffect===void 0||(0,p.useEffect)(function(){j==null||j(E.V===null||E.V===void 0?void 0:(0,E.V)())},[]),(0,v.jsxs)(de._z,{children:[g,(0,v.jsx)(ve.Z,{headerTitle:$==null?void 0:$.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u67E5\u8BE2\u8868\u683C"}),actionRef:n,rowKey:"id",toolBarRender:function(){return[(0,v.jsxs)(v.Fragment,{children:[" ",(0,v.jsx)(M.ZP,{danger:!0,disabled:!O||!O.length,onClick:function(){h(O)},children:"\u5220 \u9664"}),(0,v.jsx)(ae,{trigger:(0,v.jsx)(M.ZP,{type:"primary",children:" \u65B0 \u5EFA "}),id:u,onOk:y})]})]},request:ie,columns:x,rowSelection:{onChange:function(s,d){Z(d)}}})]})}},19515:function(oe,V,e){e.d(V,{P:function(){return R},V:function(){return H}});var U=e(64599),i=e.n(U),K=e(19632),m=e.n(K),L=e(27484),W=e.n(L);function H(){var A=W()().format("YYYYMMDDHHmmssSSS").toString();return A}function R(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=m()(A),_=i()(P),B;try{for(_.s();!(B=_.n()).done;){var r=B.value;!(r!=null&&r.valueType)||(r==null?void 0:r.valueType)!=="group"||!(r!=null&&r.columns)||!(r!=null&&r.columns.length)||P.push.apply(P,m()(r==null?void 0:r.columns))}}catch(t){_.e(t)}finally{_.f()}return P.filter(function(t){return t.valueType!=="group"})}}}]);
