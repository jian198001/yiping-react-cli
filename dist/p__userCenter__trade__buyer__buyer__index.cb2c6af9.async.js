"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[926],{82749:function(Q,C,e){e.r(C),e.d(C,{default:function(){return ne}});var $=e(15009),v=e.n($),A=e(99289),m=e.n(A),D=e(19632),B=e.n(D),V=e(5574),E=e.n(V),b=e(97857),T=e.n(b),n=e(12578);function S(u,l,o){return r.apply(this,arguments)}function r(){return r=m()(v()().mark(function u(l,o,i){var t;return v()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return t="/staff/web/userCenter/trade/buyer/buyer/page.json",d.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(t,{method:"GET",params:{params:l,sort:o,filter:i}}));case 2:case"end":return d.stop()}},u)})),r.apply(this,arguments)}function R(u){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime().mark(function u(l){var o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o="/staff/web/userCenter/trade/buyer/buyer/update.json",t.abrupt("return",request==null?void 0:request(o,{method:"POST",data:l}));case 2:case"end":return t.stop()}},u)})),Z.apply(this,arguments)}function ie(u){return x.apply(this,arguments)}function x(){return x=_asyncToGenerator(_regeneratorRuntime().mark(function u(l){var o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o="/staff/web/userCenter/trade/buyer/buyer/getById.json",t.abrupt("return",request==null?void 0:request(o,{method:"GET",params:{id:l}}));case 2:case"end":return t.stop()}},u)})),x.apply(this,arguments)}function X(u){return G.apply(this,arguments)}function G(){return G=m()(v()().mark(function u(l){var o;return v()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o="/staff/web/userCenter/trade/buyer/buyer/del.json",t.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(o,{method:"POST",data:T()({},l)}));case 2:case"end":return t.stop()}},u)})),G.apply(this,arguments)}function de(){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function u(){var l;return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return l="/staff/web/userCenter/trade/buyer/buyer/page.json",i.abrupt("return",request==null?void 0:request(l,{method:"GET",params:{pageNum:1,pageSize:0}}));case 2:case"end":return i.stop()}},u)})),K.apply(this,arguments)}var k=e(97131),q=e(30077),j=e(2453),P=e(28248),ee=e(14726),c=e(67294),re=[{valueType:"group",columns:[{title:"\u540D \u79F0",dataIndex:"name",sorter:!0},{title:"\u7F16 \u53F7",dataIndex:"code",sorter:!0}]},{valueType:"group",columns:[{title:"\u8BA2\u5355\u6570",dataIndex:"orderCount",sorter:!0,valueType:"digit",tooltip:"\u96F6\u6216\u6B63\u6574\u6570",initialValue:"0"}]},{valueType:"group",columns:[{title:"\u4F59\u989D(\u5143)",dataIndex:"balance",sorter:!0,valueType:"money",initialValue:"0"},{title:"\u79EF \u5206",dataIndex:"bonus",valueType:"digit",tooltip:"\u96F6\u6216\u6B63\u6574\u6570",sorter:!0,initialValue:"0"}]}],f=e(19515),g=e(85893),ne=function(){var u,l,o=(0,c.useState)(""),i=E()(o,2),t=i[0],y=i[1],d=(u=c.useRef)===null||u===void 0?void 0:u(),te=c.useState===null||c.useState===void 0?void 0:(0,c.useState)([]),Y=E()(te,2),U=Y[0],I=Y[1],L=n.useIntl===null||n.useIntl===void 0?void 0:(0,n.useIntl)(),ae=j.ZP===null||j.ZP===void 0||(l=j.ZP.useMessage)===null||l===void 0?void 0:l.call(j.ZP),z=E()(ae,2),p=z[0],ue=z[1],N=n.useRequest===null||n.useRequest===void 0?void 0:(0,n.useRequest)(X,{manual:!0,onSuccess:function(){var a,s,_;I==null||I([]),d==null||(a=d.current)===null||a===void 0||(s=a.reload)===null||s===void 0||s.call(a),p==null||(_=p.success)===null||_===void 0||_.call(p,"\u5220\u9664\u64CD\u4F5C\u6210\u529F")},onError:function(){var a;p==null||(a=p.error)===null||a===void 0||a.call(p,"\u5220\u9664\u64CD\u4F5C\u5931\u8D25,\u8BF7\u91CD\u8BD5")}}),M=N.run,ve=N.loading,le=[].concat(B()(f.P===null||f.P===void 0?void 0:(0,f.P)(re)),[{title:(0,g.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(a,s){return[(0,g.jsx)("a",{children:"\u8BE6 \u60C5"})]}}]),oe=(0,c.useCallback)(function(){var h=m()(v()().mark(function a(s){var _;return v()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:P.Z===null||P.Z===void 0||(_=P.Z.confirm)===null||_===void 0||_.call(P.Z,{title:"\u64CD\u4F5C\u63D0\u793A",content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\u8FD9"+(s==null?void 0:s.length)+"\u9879\u4FE1\u606F?\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D",onOk:function(){var w;(w=function(){var se=m()(v()().mark(function J(){var H;return v()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,M==null?void 0:M(s==null||(H=s.map)===null||H===void 0?void 0:H.call(s,function(F){return F==null?void 0:F.id}));case 2:case"end":return O.stop()}},J)}));return function(){return se.apply(this,arguments)}}())===null||w===void 0||w()}});case 1:case"end":return W.stop()}},a)}));return function(a){return h.apply(this,arguments)}}(),[M]),ce=function(){var a;y==null||y(f.V===null||f.V===void 0?void 0:(0,f.V)()),d==null||(a=d.current)===null||a===void 0||a.reload()};return c.useEffect===null||c.useEffect===void 0||(0,c.useEffect)(function(){y==null||y(f.V===null||f.V===void 0?void 0:(0,f.V)())},[]),(0,g.jsxs)(k._z,{children:[ue,(0,g.jsx)(q.Z,{headerTitle:L==null?void 0:L.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u67E5\u8BE2\u8868\u683C"}),actionRef:d,rowKey:"id",toolBarRender:function(){return[(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(ee.ZP,{danger:!0,disabled:!U||!U.length,onClick:function(){oe(U)},children:"\u5220 \u9664"})})]},request:S,columns:le,rowSelection:{onChange:function(a,s){I(s)}}})]})}},19515:function(Q,C,e){e.d(C,{P:function(){return E},V:function(){return V}});var $=e(64599),v=e.n($),A=e(19632),m=e.n(A),D=e(27484),B=e.n(D);function V(){var b=B()().format("YYYYMMDDHHmmssSSS").toString();return b}function E(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=m()(b),n=v()(T),S;try{for(n.s();!(S=n.n()).done;){var r=S.value;!(r!=null&&r.valueType)||(r==null?void 0:r.valueType)!=="group"||!(r!=null&&r.columns)||!(r!=null&&r.columns.length)||T.push.apply(T,m()(r==null?void 0:r.columns))}}catch(R){n.e(R)}finally{n.f()}return T.filter(function(R){return R.valueType!=="group"})}}}]);
