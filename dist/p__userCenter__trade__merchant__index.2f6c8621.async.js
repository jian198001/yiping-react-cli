"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[977],{35040:function(le,F,e){e.r(F),e.d(F,{default:function(){return ce}});var K=e(15009),i=e.n(K),U=e(99289),g=e.n(U),W=e(19632),k=e.n(W),G=e(5574),$=e.n(G),x=e(97857),S=e.n(x),O=e(37476),Z=e(26855),r=e(2453),t=e(12578);function ie(a,l,n){return H.apply(this,arguments)}function H(){return H=g()(i()().mark(function a(l,n,m){var u;return i()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return u="/staff/web/userCenter/trade/merchant/page.json",d.abrupt("return",t.request===null||t.request===void 0?void 0:(0,t.request)(u,{method:"GET",params:{params:l,sort:n,filter:m}}));case 2:case"end":return d.stop()}},a)})),H.apply(this,arguments)}function se(a){return L.apply(this,arguments)}function L(){return L=g()(i()().mark(function a(l){var n;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n="/staff/web/userCenter/trade/merchant/update.json",u.abrupt("return",t.request===null||t.request===void 0?void 0:(0,t.request)(n,{method:"POST",data:l}));case 2:case"end":return u.stop()}},a)})),L.apply(this,arguments)}function Y(a){return z.apply(this,arguments)}function z(){return z=g()(i()().mark(function a(l){var n;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n="/staff/web/userCenter/trade/merchant/getById.json",u.abrupt("return",t.request===null||t.request===void 0?void 0:(0,t.request)(n,{method:"GET",params:{id:l}}));case 2:case"end":return u.stop()}},a)})),z.apply(this,arguments)}function oe(a){return N.apply(this,arguments)}function N(){return N=g()(i()().mark(function a(l){var n;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n="/staff/web/userCenter/trade/merchant/del.json",u.abrupt("return",t.request===null||t.request===void 0?void 0:(0,t.request)(n,{method:"POST",data:S()({},l)}));case 2:case"end":return u.stop()}},a)})),N.apply(this,arguments)}function fe(){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime().mark(function a(){var l;return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return l="/staff/web/userCenter/trade/merchant/page.json",m.abrupt("return",request==null?void 0:request(l,{method:"GET",params:{pageNum:1,pageSize:0}}));case 2:case"end":return m.stop()}},a)})),J.apply(this,arguments)}var T=e(67294),re=[{valueType:"group",columns:[{title:"\u540D \u79F0",dataIndex:"name",sorter:!0,width:"md",formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}]}},{title:"\u7F16 \u53F7",dataIndex:"code",sorter:!0,width:"md"}]},{valueType:"group",columns:[{title:"\u5730 \u533A",dataIndex:"name",sorter:!0,width:"md",valueType:"cascader",hideInTable:!0,hideInSearch:!0},{title:"\u8BE6\u7EC6\u5730\u5740",dataIndex:"code",sorter:!0,width:"lg",hideInTable:!0,hideInSearch:!0}]},{valueType:"group",columns:[{title:"\u7ECF \u5EA6",dataIndex:"lat",sorter:!0,valueType:"digit",width:"md",hideInTable:!0,hideInSearch:!0,tooltip:"\u6570\u5B57"},{title:"\u7EAC \u5EA6",dataIndex:"lng",sorter:!0,valueType:"digit",width:"md",hideInTable:!0,hideInSearch:!0,tooltip:"\u6570\u5B57"}]},{valueType:"group",columns:[{title:"\u8D2D\u7269\u8F66",dataIndex:"cartStr",sorter:!0,valueType:"select",valueEnum:{1:"\u5F00\u542F",0:"\u5173\u95ED"},initialValue:"0"}]},{valueType:"group",columns:[{title:"\u7269\u6D41\u8303\u56F4",dataIndex:"deliveryAreaStr",sorter:!0,valueType:"select",valueEnum:{locale:"\u4EC5\u652F\u6301\u540C\u57CE",global:"\u652F\u6301\u5168\u56FD"},width:"sm",initialValue:"global"},{title:"\u95E8\u5E97\u81EA\u63D0",dataIndex:"obsStr",sorter:!0,valueType:"select",valueEnum:{1:"\u652F\u6301",0:"\u4E0D\u652F\u6301"},initialValue:"0"}]},{valueType:"group",columns:[{title:"\u8BA2\u5355\u9000\u6B3E\u9009\u9879",dataIndex:"refundStr",sorter:!0,valueType:"select",valueEnum:{0:"\u6240\u6709\u8BA2\u5355\u5747\u9700\u4EBA\u5DE5\u5BA1\u6838\u540E\u624D\u53EF\u9000\u6B3E",1:'"\u5DF2\u652F\u4ED8\u672A\u53D1\u8D27"\u8BA2\u5355\u4E0D\u9700\u4EBA\u5DE5\u5BA1\u6838\u76F4\u63A5\u9000\u6B3E',2:'"\u5DF2\u652F\u4ED8\u672A\u6838\u9500"\u865A\u62DF\u51ED\u8BC1\u8BA2\u5355\u4E0D\u9700\u4EBA\u5DE5\u5BA1\u6838\u76F4\u63A5\u9000\u6B3E'},initialValue:"0",width:"lg"}]},{valueType:"group",columns:[{title:"\u975E\u8425\u4E1A\u65F6\u95F4\u64CD\u4F5C",dataIndex:"nonBusinessHoursShowStr",sorter:!0,valueType:"select",valueEnum:{order:"\u5546\u54C1\u53EF\u4E0B\u5355,\u4E0B\u6B21\u8425\u4E1A\u65F6\u95F4\u518D\u914D\u9001",goods:"\u5546\u54C1\u53EF\u5C55\u793A,\u4E0D\u53EF\u4E0B\u5355"},initialValue:"order",width:"md"}]},{valueType:"group",columns:[{title:"\u5FAE\u4FE1\u5546\u6237\u53F7",dataIndex:"appIdWxpay",sorter:!0,width:"md"}]},{valueType:"group",columns:[{title:"\u5FAE\u4FE1AppId",dataIndex:"appIdWxpay",sorter:!1,width:"md"},{title:"\u5FAE\u4FE1appSecret",dataIndex:"appSecret",sorter:!1,width:"md",hideInTable:!0,hideInSearch:!0}]},{valueType:"group",columns:[{title:"\u5FAE\u4FE1\u652F\u4ED8API\u5BC6\u94A5",dataIndex:"mchKey",sorter:!1,width:"md",hideInTable:!0,hideInSearch:!0},{title:"\u5FAE\u4FE1API\u6570\u5B57\u8BC1\u4E66",dataIndex:"keyFiles",sorter:!1,width:"md",hideInTable:!0,hideInSearch:!0},{title:"\u5FAE\u4FE1API\u79C1\u94A5\u6587\u4EF6",dataIndex:"keyFiles",sorter:!1,width:"md",hideInTable:!0,hideInSearch:!0}]},{valueType:"group",columns:[{title:"\u652F\u4ED8\u5B9DAppId",dataIndex:"appIdAlipay",sorter:!0,width:"md"},{title:"\u652F\u4ED8\u5B9D\u79C1\u94A5",dataIndex:"merchantPrivateKey",sorter:!1,width:"md",hideInTable:!0,hideInSearch:!0},{title:"\u652F\u4ED8\u5B9D\u8BC1\u4E66",dataIndex:"alipayFiles",sorter:!1,width:"md",hideInTable:!0,hideInSearch:!0}]},{valueType:"group",columns:[{title:"\u5907 \u6CE8",dataIndex:"remark",valueType:"textarea",sorter:!1,width:"lg",hideInTable:!0,hideInSearch:!0}]}],f=e(85893),te=function(a){var l,n=(l=T.useRef)===null||l===void 0?void 0:l(),m=function(){var R=g()(i()().mark(function c(){var s,w,p,P,B;return i()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!h){y.next=7;break}return y.next=3,Y==null?void 0:Y(h);case 3:if(p=y.sent,!(p!=null&&p.data)){y.next=6;break}return y.abrupt("return",n==null||(P=n.current)===null||P===void 0||(B=P.setFieldsValue)===null||B===void 0?void 0:B.call(P,S()({},p==null?void 0:p.data)));case 6:return y.abrupt("return",n==null||(s=n.current)===null||s===void 0||(w=s.setFieldsValue)===null||w===void 0?void 0:w.call(s,{id:h}));case 7:case"end":return y.stop()}},c)}));return function(){return R.apply(this,arguments)}}(),u={id:"",title:""},h=a.id,d=a.trigger,C=a.onOk,M=t.useRequest===null||t.useRequest===void 0?void 0:(0,t.useRequest)(se,{manual:!0,onSuccess:function(){var c;r.ZP===null||r.ZP===void 0||(c=r.ZP.success)===null||c===void 0||c.call(r.ZP,"\u63D0\u4EA4\u6210\u529F"),C==null||C()},onError:function(){var c;r.ZP===null||r.ZP===void 0||(c=r.ZP.error)===null||c===void 0||c.call(r.ZP,"\u63D0\u4EA4\u5931\u8D25, \u8BF7\u91CD\u8BD5!")}}),b=M.run,j=M.loading,A=function(){var R=g()(i()().mark(function c(s){return i()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return s=S()(S()({},s),{},{id:h}),b==null||b(s),p.abrupt("return",!0);case 3:case"end":return p.stop()}},c)}));return function(s){return R.apply(this,arguments)}}();return(0,f.jsx)(O.Y,{formRef:n,onFinish:A,modalProps:{destroyOnClose:!0,okButtonProps:{loading:j}},onOpenChange:m,initialValues:u,title:"\u7F16\u8F91\u4FE1\u606F",trigger:d,children:(0,f.jsx)(Z.Z,{layoutType:"Embed",columns:re})})},de=e(97131),ve=e(30077),V=e(28248),ne=e(14726),E=e(19515),ce=function(){var a,l,n=(0,T.useState)(""),m=$()(n,2),u=m[0],h=m[1],d=(a=T.useRef)===null||a===void 0?void 0:a(),C=T.useState===null||T.useState===void 0?void 0:(0,T.useState)([]),M=$()(C,2),b=M[0],j=M[1],A=t.useIntl===null||t.useIntl===void 0?void 0:(0,t.useIntl)(),R=r.ZP===null||r.ZP===void 0||(l=r.ZP.useMessage)===null||l===void 0?void 0:l.call(r.ZP),c=$()(R,2),s=c[0],w=c[1],p=t.useRequest===null||t.useRequest===void 0?void 0:(0,t.useRequest)(oe,{manual:!0,onSuccess:function(){var o,v,I;j==null||j([]),d==null||(o=d.current)===null||o===void 0||(v=o.reload)===null||v===void 0||v.call(o),s==null||(I=s.success)===null||I===void 0||I.call(s,"\u5220\u9664\u64CD\u4F5C\u6210\u529F")},onError:function(){var o;s==null||(o=s.error)===null||o===void 0||o.call(s,"\u5220\u9664\u64CD\u4F5C\u5931\u8D25,\u8BF7\u91CD\u8BD5")}}),P=p.run,B=p.loading,ae=[].concat(k()(E.P===null||E.P===void 0?void 0:(0,E.P)(re)),[{title:(0,f.jsx)(t.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(o,v){var I;return[(0,f.jsx)(te,{trigger:(0,f.jsx)("a",{children:"\u7F16 \u8F91"}),id:v==null?void 0:v.id,onOk:d==null||(I=d.current)===null||I===void 0?void 0:I.reload})]}}]),y=(0,T.useCallback)(function(){var _=g()(i()().mark(function o(v){var I;return i()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:V.Z===null||V.Z===void 0||(I=V.Z.confirm)===null||I===void 0||I.call(V.Z,{title:"\u64CD\u4F5C\u63D0\u793A",content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\u8FD9"+(v==null?void 0:v.length)+"\u9879\u4FE1\u606F?\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D",onOk:function(){var X;(X=function(){var me=g()(i()().mark(function ue(){var q;return i()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,P==null?void 0:P(v==null||(q=v.map)===null||q===void 0?void 0:q.call(v,function(ee){return ee==null?void 0:ee.id}));case 2:case"end":return D.stop()}},ue)}));return function(){return me.apply(this,arguments)}}())===null||X===void 0||X()}});case 1:case"end":return Q.stop()}},o)}));return function(o){return _.apply(this,arguments)}}(),[P]),pe=function(){var o;h==null||h(E.V===null||E.V===void 0?void 0:(0,E.V)()),d==null||(o=d.current)===null||o===void 0||o.reload()};return T.useEffect===null||T.useEffect===void 0||(0,T.useEffect)(function(){h==null||h(E.V===null||E.V===void 0?void 0:(0,E.V)())},[]),(0,f.jsxs)(de._z,{children:[w,(0,f.jsx)(ve.Z,{headerTitle:A==null?void 0:A.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u67E5\u8BE2\u8868\u683C"}),actionRef:d,rowKey:"id",toolBarRender:function(){return[(0,f.jsxs)(f.Fragment,{children:[" ",(0,f.jsx)(ne.ZP,{danger:!0,disabled:!b||!b.length,onClick:function(){y(b)},children:"\u5220 \u9664"}),(0,f.jsx)(te,{trigger:(0,f.jsx)(ne.ZP,{type:"primary",children:" \u65B0 \u5EFA "}),id:u,onOk:pe})]})]},request:ie,columns:ae,rowSelection:{onChange:function(o,v){j(v)}}})]})}},19515:function(le,F,e){e.d(F,{P:function(){return $},V:function(){return G}});var K=e(64599),i=e.n(K),U=e(19632),g=e.n(U),W=e(27484),k=e.n(W);function G(){var x=k()().format("YYYYMMDDHHmmssSSS").toString();return x}function $(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=g()(x),O=i()(S),Z;try{for(O.s();!(Z=O.n()).done;){var r=Z.value;!(r!=null&&r.valueType)||(r==null?void 0:r.valueType)!=="group"||!(r!=null&&r.columns)||!(r!=null&&r.columns.length)||S.push.apply(S,g()(r==null?void 0:r.columns))}}catch(t){O.e(t)}finally{O.f()}return S.filter(function(t){return t.valueType!=="group"})}}}]);
