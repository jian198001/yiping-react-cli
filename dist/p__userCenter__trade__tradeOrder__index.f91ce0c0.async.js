"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[458],{26441:function(ue,Z,e){e.r(Z),e.d(Z,{default:function(){return ce}});var U=e(15009),o=e.n(U),Y=e(99289),h=e.n(Y),L=e(19632),K=e.n(L),G=e(5574),$=e.n(G),x=e(97857),I=e.n(x),_=e(37476),A=e(26855),r=e(2453),n=e(12578);function le(a,l,t){return W.apply(this,arguments)}function W(){return W=h()(o()().mark(function a(l,t,f){var u;return o()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return u="/staff/web/userCenter/trade/tradeOrder/page.json",m.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(u,{method:"GET",params:{params:l,sort:t,filter:f}}));case 2:case"end":return m.stop()}},a)})),W.apply(this,arguments)}function oe(a){return H.apply(this,arguments)}function H(){return H=h()(o()().mark(function a(l){var t;return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t="/staff/web/userCenter/trade/tradeOrder/update.json",u.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(t,{method:"POST",data:l}));case 2:case"end":return u.stop()}},a)})),H.apply(this,arguments)}function N(a){return k.apply(this,arguments)}function k(){return k=h()(o()().mark(function a(l){var t;return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t="/staff/web/userCenter/trade/tradeOrder/getById.json",u.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(t,{method:"GET",params:{id:l}}));case 2:case"end":return u.stop()}},a)})),k.apply(this,arguments)}function se(a){return z.apply(this,arguments)}function z(){return z=h()(o()().mark(function a(l){var t;return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t="/staff/web/userCenter/trade/tradeOrder/del.json",u.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(t,{method:"POST",data:I()({},l)}));case 2:case"end":return u.stop()}},a)})),z.apply(this,arguments)}function pe(){return Q.apply(this,arguments)}function Q(){return Q=_asyncToGenerator(_regeneratorRuntime().mark(function a(){var l;return _regeneratorRuntime().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return l="/staff/web/userCenter/trade/tradeOrder/page.json",f.abrupt("return",request==null?void 0:request(l,{method:"GET",params:{pageNum:1,pageSize:0}}));case 2:case"end":return f.stop()}},a)})),Q.apply(this,arguments)}var E=e(67294),re=[{valueType:"group",columns:[{title:"\u7F16 \u53F7",dataIndex:"outTradeNo",sorter:!0,hideInForm:!0},{title:"\u4E0B\u5355\u65F6\u95F4",dataIndex:"createDate",valueType:"datetime",sorter:!0,hideInSearch:!0,hideInForm:!0},{title:"\u4E0B\u5355\u65F6\u95F4",dataIndex:"createDate",valueType:"dateRange",sorter:!0,hideInTable:!0,hideInForm:!0},{title:"\u603B\u91D1\u989D(\u5143)",dataIndex:"totalAmount",sorter:!0,valueType:"digitRange",hideInTable:!0,hideInForm:!0},{title:"\u603B\u91D1\u989D(\u5143)",dataIndex:"totalAmount",sorter:!0,valueType:"money",hideInSearch:!0},{title:"\u4EA4\u6613\u72B6\u6001",dataIndex:"tradeStateCn",sorter:!0,valueType:"select",valueEnum:{NOTPAY:{text:"\u5F85\u4ED8\u6B3E"},SUCCESS:{text:"\u5DF2\u4ED8\u6B3E"},DELIVERY:{text:"\u5DF2\u53D1\u8D27"}},hideInForm:!0},{title:"\u7C7B \u578B",dataIndex:"countItem",sorter:!0,valueType:"select",valueEnum:{NOTPAY:{text:"\u5F85\u4ED8\u6B3E"},SUCCESS:{text:"\u5DF2\u4ED8\u6B3E"},DELIVERY:{text:"\u5DF2\u53D1\u8D27"}},hideInForm:!0},{title:"\u5546\u54C1\u603B\u6570\u91CF",dataIndex:"sumQuantity",sorter:!0,hideInSearch:!0,valueType:"digit",hideInForm:!0,tooltip:"\u96F6\u6216\u6B63\u6570"},{title:"\u5546\u54C1\u603B\u6570\u91CF",dataIndex:"sumQuantity",sorter:!0,hideInTable:!0,valueType:"digitRange",hideInForm:!0},{title:"\u652F\u4ED8\u65B9\u5F0F",dataIndex:"payType",sorter:!0,valueType:"select",valueEnum:{0:{text:"\u5F85\u4ED8\u6B3E"},alipay:{text:"\u652F\u4ED8\u5B9D"},wxpay:{text:"\u5FAE\u4FE1\u652F\u4ED8"},balance:{text:"\u4F59\u989D\u652F\u4ED8"}},hideInForm:!0}]}],v=e(85893),ie=function(a){var l,t=(l=E.useRef)===null||l===void 0?void 0:l(),f=function(){var P=h()(o()().mark(function d(){var s,F,c,S,V;return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!g){y.next=7;break}return y.next=3,N==null?void 0:N(g);case 3:if(c=y.sent,!(c!=null&&c.data)){y.next=6;break}return y.abrupt("return",t==null||(S=t.current)===null||S===void 0||(V=S.setFieldsValue)===null||V===void 0?void 0:V.call(S,I()({},c==null?void 0:c.data)));case 6:return y.abrupt("return",t==null||(s=t.current)===null||s===void 0||(F=s.setFieldsValue)===null||F===void 0?void 0:F.call(s,{id:g}));case 7:case"end":return y.stop()}},d)}));return function(){return P.apply(this,arguments)}}(),u={id:"",title:""},g=a.id,m=a.trigger,M=a.onOk,b=n.useRequest===null||n.useRequest===void 0?void 0:(0,n.useRequest)(oe,{manual:!0,onSuccess:function(){var d;r.ZP===null||r.ZP===void 0||(d=r.ZP.success)===null||d===void 0||d.call(r.ZP,"\u63D0\u4EA4\u6210\u529F"),M==null||M()},onError:function(){var d;r.ZP===null||r.ZP===void 0||(d=r.ZP.error)===null||d===void 0||d.call(r.ZP,"\u63D0\u4EA4\u5931\u8D25, \u8BF7\u91CD\u8BD5!")}}),O=b.run,j=b.loading,D=function(){var P=h()(o()().mark(function d(s){return o()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=I()(I()({},s),{},{id:g}),O==null||O(s),c.abrupt("return",!0);case 3:case"end":return c.stop()}},d)}));return function(s){return P.apply(this,arguments)}}();return(0,v.jsx)(_.Y,{formRef:t,onFinish:D,modalProps:{destroyOnClose:!0,okButtonProps:{loading:j}},onOpenChange:f,initialValues:u,title:"\u7F16\u8F91\u4FE1\u606F",trigger:m,children:(0,v.jsx)(A.Z,{layoutType:"Embed",columns:re})})},de=e(97131),ve=e(30077),B=e(28248),ne=e(14726),T=e(19515),ce=function(){var a,l,t=(0,E.useState)(""),f=$()(t,2),u=f[0],g=f[1],m=(a=E.useRef)===null||a===void 0?void 0:a(),M=E.useState===null||E.useState===void 0?void 0:(0,E.useState)([]),b=$()(M,2),O=b[0],j=b[1],D=n.useIntl===null||n.useIntl===void 0?void 0:(0,n.useIntl)(),P=r.ZP===null||r.ZP===void 0||(l=r.ZP.useMessage)===null||l===void 0?void 0:l.call(r.ZP),d=$()(P,2),s=d[0],F=d[1],c=n.useRequest===null||n.useRequest===void 0?void 0:(0,n.useRequest)(se,{manual:!0,onSuccess:function(){var i,p,C;j==null||j([]),m==null||(i=m.current)===null||i===void 0||(p=i.reload)===null||p===void 0||p.call(i),s==null||(C=s.success)===null||C===void 0||C.call(s,"\u5220\u9664\u64CD\u4F5C\u6210\u529F")},onError:function(){var i;s==null||(i=s.error)===null||i===void 0||i.call(s,"\u5220\u9664\u64CD\u4F5C\u5931\u8D25,\u8BF7\u91CD\u8BD5")}}),S=c.run,V=c.loading,te=[].concat(K()(T.P===null||T.P===void 0?void 0:(0,T.P)(re)),[{title:(0,v.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(i,p){return[(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("a",{children:"\u8BE6 \u60C5"}),(0,v.jsx)("a",{children:"\u4FEE\u6539\u603B\u91D1\u989D"}),(0,v.jsx)("a",{children:"\u9000 \u6B3E"})]})]}}]),y=(0,E.useCallback)(function(){var R=h()(o()().mark(function i(p){var C;return o()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:B.Z===null||B.Z===void 0||(C=B.Z.confirm)===null||C===void 0||C.call(B.Z,{title:"\u64CD\u4F5C\u63D0\u793A",content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\u8FD9"+(p==null?void 0:p.length)+"\u9879\u4FE1\u606F?\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D",onOk:function(){var X;(X=function(){var me=h()(o()().mark(function ae(){var q;return o()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,S==null?void 0:S(p==null||(q=p.map)===null||q===void 0?void 0:q.call(p,function(ee){return ee==null?void 0:ee.id}));case 2:case"end":return w.stop()}},ae)}));return function(){return me.apply(this,arguments)}}())===null||X===void 0||X()}});case 1:case"end":return J.stop()}},i)}));return function(i){return R.apply(this,arguments)}}(),[S]),fe=function(){var i;g==null||g(T.V===null||T.V===void 0?void 0:(0,T.V)()),m==null||(i=m.current)===null||i===void 0||i.reload()};return E.useEffect===null||E.useEffect===void 0||(0,E.useEffect)(function(){g==null||g(T.V===null||T.V===void 0?void 0:(0,T.V)())},[]),(0,v.jsxs)(de._z,{children:[F,(0,v.jsx)(ve.Z,{headerTitle:D==null?void 0:D.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u67E5\u8BE2\u8868\u683C"}),actionRef:m,rowKey:"id",toolBarRender:function(){return[(0,v.jsxs)(v.Fragment,{children:[" ",(0,v.jsx)(ne.ZP,{danger:!0,disabled:!O||!O.length,onClick:function(){y(O)},children:"\u5220 \u9664"}),(0,v.jsx)(ie,{trigger:(0,v.jsx)(ne.ZP,{type:"primary",children:" \u6536 \u94F6 "}),id:u,onOk:fe})]})]},request:le,columns:te,rowSelection:{onChange:function(i,p){j(p)}}})]})}},19515:function(ue,Z,e){e.d(Z,{P:function(){return $},V:function(){return G}});var U=e(64599),o=e.n(U),Y=e(19632),h=e.n(Y),L=e(27484),K=e.n(L);function G(){var x=K()().format("YYYYMMDDHHmmssSSS").toString();return x}function $(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],I=h()(x),_=o()(I),A;try{for(_.s();!(A=_.n()).done;){var r=A.value;!(r!=null&&r.valueType)||(r==null?void 0:r.valueType)!=="group"||!(r!=null&&r.columns)||!(r!=null&&r.columns.length)||I.push.apply(I,h()(r==null?void 0:r.columns))}}catch(n){_.e(n)}finally{_.f()}return I.filter(function(n){return n.valueType!=="group"})}}}]);
