"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[49],{35335:function(re,A,e){e.r(A),e.d(A,{default:function(){return ae}});var K=e(15009),f=e.n(K),L=e(99289),s=e.n(L),W=e(19632),b=e.n(W),i=e(5574),I=e.n(i),M=e(97857),P=e.n(M),O=e(37476),Z=e(26855),n=e(2453),d=e(12578),j=e(64926),p=e(67294),B=[{valueType:"group",columns:[{title:"\u6807 \u9898",dataIndex:"name",sorter:!0,formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}]},width:"m"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createDate",sorter:!0,hideInForm:!0,valueType:"datetime"}]},{valueType:"group",columns:[{title:"\u5185 \u5BB9",dataIndex:"content",sorter:!1,valueType:"textarea",hideInTable:!0,hideInSearch:!0,width:"lg"}]}],r=e(85893),v=function(D,k){var w,R=(w=p.useRef)===null||w===void 0?void 0:w(),N=function(){var C=s()(f()().mark(function t(){var h,$,a,H,Y;return f()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!c){E.next=8;break}return E.next=3,j.FO===null||j.FO===void 0?void 0:(0,j.FO)(c);case 3:if(a=E.sent,console.log(a),!(a!=null&&a.data)){E.next=7;break}return E.abrupt("return",R==null||(H=R.current)===null||H===void 0||(Y=H.setFieldsValue)===null||Y===void 0?void 0:Y.call(H,P()({},a==null?void 0:a.data)));case 7:return E.abrupt("return",R==null||(h=R.current)===null||h===void 0||($=h.setFieldsValue)===null||$===void 0?void 0:$.call(h,{id:c}));case 8:case"end":return E.stop()}},t)}));return function(){return C.apply(this,arguments)}}(),T={id:"",title:""},c=D.id,J=D.trigger,U=D.onOk,V=d.useRequest===null||d.useRequest===void 0?void 0:(0,d.useRequest)(j.Vx,{manual:!0,onSuccess:function(){var t;n.ZP===null||n.ZP===void 0||(t=n.ZP.success)===null||t===void 0||t.call(n.ZP,"\u63D0\u4EA4\u6210\u529F"),U==null||U()},onError:function(){var t;n.ZP===null||n.ZP===void 0||(t=n.ZP.error)===null||t===void 0||t.call(n.ZP,"\u63D0\u4EA4\u5931\u8D25, \u8BF7\u91CD\u8BD5!")}}),S=V.run,G=V.loading,Q=function(){var C=s()(f()().mark(function t(h){return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return h=P()(P()({},h),{},{id:c}),S==null||S(h),a.abrupt("return",!0);case 3:case"end":return a.stop()}},t)}));return function(h){return C.apply(this,arguments)}}();return(0,r.jsx)(O.Y,{formRef:R,onFinish:Q,modalProps:{destroyOnClose:!0,okButtonProps:{loading:G}},onOpenChange:N,initialValues:T,title:"\u7F16\u8F91\u4FE1\u606F",trigger:J,children:(0,r.jsx)(Z.Z,{layoutType:"Embed",columns:B})})},_=e(97131),g=e(30077),u=e(14726),x=e(28248),m=e(19515),ae=function(){var D,k,w=(0,p.useState)(""),R=I()(w,2),N=R[0],T=R[1],c=(D=p.useRef)===null||D===void 0?void 0:D(),J=p.useState===null||p.useState===void 0?void 0:(0,p.useState)([]),U=I()(J,2),V=U[0],S=U[1],G=d.useIntl===null||d.useIntl===void 0?void 0:(0,d.useIntl)(),Q=n.ZP===null||n.ZP===void 0||(k=n.ZP.useMessage)===null||k===void 0?void 0:k.call(n.ZP),C=I()(Q,2),t=C[0],h=C[1],$=d.useRequest===null||d.useRequest===void 0?void 0:(0,d.useRequest)(j.IV,{manual:!0,onSuccess:function(){var l,o,y;S==null||S([]),c==null||(l=c.current)===null||l===void 0||(o=l.reload)===null||o===void 0||o.call(l),t==null||(y=t.success)===null||y===void 0||y.call(t,"\u5220\u9664\u64CD\u4F5C\u6210\u529F")},onError:function(){var l;t==null||(l=t.error)===null||l===void 0||l.call(t,"\u5220\u9664\u64CD\u4F5C\u5931\u8D25,\u8BF7\u91CD\u8BD5")}}),a=$.run,H=$.loading,Y=[].concat(b()(m.P===null||m.P===void 0?void 0:(0,m.P)(B)),[{title:(0,r.jsx)(d.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(l,o){var y;return[(0,r.jsx)(v,{trigger:(0,r.jsx)(u.ZP,{children:"\u7F16 \u8F91"}),id:o==null?void 0:o.id,onOk:c==null||(y=c.current)===null||y===void 0?void 0:y.reload},o.id)]}}]),te=(0,p.useCallback)(function(){var F=s()(f()().mark(function l(o){var y;return f()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:x.Z===null||x.Z===void 0||(y=x.Z.confirm)===null||y===void 0||y.call(x.Z,{title:"\u64CD\u4F5C\u63D0\u793A",content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\u8FD9"+(o==null?void 0:o.length)+"\u9879\u4FE1\u606F?\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D",onOk:function(){var q;(q=function(){var le=s()(f()().mark(function ue(){var ee;return f()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,a==null?void 0:a(o==null||(ee=o.map)===null||ee===void 0?void 0:ee.call(o,function(ne){return ne==null?void 0:ne.id}));case 2:case"end":return z.stop()}},ue)}));return function(){return le.apply(this,arguments)}}())===null||q===void 0||q()}});case 1:case"end":return X.stop()}},l)}));return function(l){return F.apply(this,arguments)}}(),[a]),E=function(){var l;T==null||T(m.V===null||m.V===void 0?void 0:(0,m.V)()),c==null||(l=c.current)===null||l===void 0||l.reload()};return p.useEffect===null||p.useEffect===void 0||(0,p.useEffect)(function(){T==null||T(m.V===null||m.V===void 0?void 0:(0,m.V)())},[]),(0,r.jsxs)(_._z,{children:[h,(0,r.jsx)(g.Z,{headerTitle:G==null?void 0:G.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u67E5\u8BE2\u8868\u683C"}),actionRef:c,rowKey:"id",toolBarRender:function(){return[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.ZP,{danger:!0,disabled:!V||!V.length,onClick:function(){te(V)},children:"\u5220 \u9664"}),(0,r.jsx)(v,{trigger:(0,r.jsx)(u.ZP,{type:"primary",children:" \u65B0 \u5EFA "}),id:N,onOk:E})]})]},request:j.Md,columns:Y,rowSelection:{onChange:function(l,o){S(o)}}})]})}},64926:function(re,A,e){e.d(A,{FO:function(){return Z},IV:function(){return d},Md:function(){return I},Vx:function(){return P}});var K=e(97857),f=e.n(K),L=e(15009),s=e.n(L),W=e(99289),b=e.n(W),i=e(12578);function I(r,v,_){return M.apply(this,arguments)}function M(){return M=b()(s()().mark(function r(v,_,g){var u;return s()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return u="/staff/web/userCenter/notice/notice/page.json",m.abrupt("return",i.request===null||i.request===void 0?void 0:(0,i.request)(u,{method:"GET",params:{params:v,sort:_,filter:g}}));case 2:case"end":return m.stop()}},r)})),M.apply(this,arguments)}function P(r){return O.apply(this,arguments)}function O(){return O=b()(s()().mark(function r(v){var _;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return _="/staff/web/userCenter/notice/notice/update.json",u.abrupt("return",i.request===null||i.request===void 0?void 0:(0,i.request)(_,{method:"POST",data:v}));case 2:case"end":return u.stop()}},r)})),O.apply(this,arguments)}function Z(r){return n.apply(this,arguments)}function n(){return n=b()(s()().mark(function r(v){var _;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return _="/staff/web/userCenter/notice/notice/getById.json",u.abrupt("return",i.request===null||i.request===void 0?void 0:(0,i.request)(_,{method:"GET",params:{id:v}}));case 2:case"end":return u.stop()}},r)})),n.apply(this,arguments)}function d(r){return j.apply(this,arguments)}function j(){return j=b()(s()().mark(function r(v){var _;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return _="/staff/web/userCenter/notice/notice/del.json",u.abrupt("return",i.request===null||i.request===void 0?void 0:(0,i.request)(_,{method:"POST",data:f()({},v)}));case 2:case"end":return u.stop()}},r)})),j.apply(this,arguments)}function p(){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function r(){var v;return _regeneratorRuntime().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return v="/staff/web/userCenter/notice/notice/page.json",g.abrupt("return",request==null?void 0:request(v,{method:"GET",params:{pageNum:1,pageSize:0}}));case 2:case"end":return g.stop()}},r)})),B.apply(this,arguments)}},19515:function(re,A,e){e.d(A,{P:function(){return I},V:function(){return i}});var K=e(64599),f=e.n(K),L=e(19632),s=e.n(L),W=e(27484),b=e.n(W);function i(){var M=b()().format("YYYYMMDDHHmmssSSS").toString();return M}function I(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=s()(M),O=f()(P),Z;try{for(O.s();!(Z=O.n()).done;){var n=Z.value;!(n!=null&&n.valueType)||(n==null?void 0:n.valueType)!=="group"||!(n!=null&&n.columns)||!(n!=null&&n.columns.length)||P.push.apply(P,s()(n==null?void 0:n.columns))}}catch(d){O.e(d)}finally{O.f()}return P.filter(function(d){return d.valueType!=="group"})}}}]);
