"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[135],{87235:function(ae,V,e){e.r(V),e.d(V,{default:function(){return ve}});var U=e(15009),l=e.n(U),K=e(99289),g=e.n(K),L=e(19632),W=e.n(L),H=e(5574),M=e.n(H),Z=e(97857),I=e.n(Z),O=e(37476),B=e(26855),r=e(2453),n=e(12578);function le(a,c,t){return Y.apply(this,arguments)}function Y(){return Y=g()(l()().mark(function a(c,t,P){var u;return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u="/staff/web/userCenter/trade/goods/goods/page.json",s.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(u,{method:"GET",params:{params:c,sort:t,filter:P}}));case 2:case"end":return s.stop()}},a)})),Y.apply(this,arguments)}function oe(a){return G.apply(this,arguments)}function G(){return G=g()(l()().mark(function a(c){var t;return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t="/staff/web/userCenter/trade/goods/goods/update.json",u.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(t,{method:"POST",data:c}));case 2:case"end":return u.stop()}},a)})),G.apply(this,arguments)}function N(a){return z.apply(this,arguments)}function z(){return z=g()(l()().mark(function a(c){var t;return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t="/staff/web/userCenter/trade/goods/goods/getById.json",u.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(t,{method:"GET",params:{id:c}}));case 2:case"end":return u.stop()}},a)})),z.apply(this,arguments)}function ie(a){return J.apply(this,arguments)}function J(){return J=g()(l()().mark(function a(c){var t;return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t="/staff/web/userCenter/trade/goods/goods/del.json",u.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(t,{method:"POST",data:I()({},c)}));case 2:case"end":return u.stop()}},a)})),J.apply(this,arguments)}var T=e(67294),re=[{valueType:"group",columns:[{title:"\u540D \u79F0",dataIndex:"name",sorter:!0,formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}]}},{title:"\u5206 \u7C7B",dataIndex:"goodsCategoryName",sorter:!0,valueType:"select",width:"sm"}]},{valueType:"group",columns:[{title:"\u8D27 \u53F7",dataIndex:"goodsSn",sorter:!0,tooltip:"\u5982\u672A\u586B\u5199,\u5C06\u81EA\u52A8\u751F\u6210"}]},{valueType:"group",columns:[{title:"\u8D77\u552E\u6570\u91CF",dataIndex:"startSaleNum",sorter:!0,valueType:"digit",tooltip:"\u6B63\u6570",initialValue:1},{title:"\u9650 \u8D2D",dataIndex:"quota",sorter:!0,valueType:"digit",initialValue:99999,tooltip:"\u96F6\u6216\u6B63\u6570,\u96F6\u4EE3\u8868\u4E0D\u9650\u8D2D"}]},{valueType:"group",columns:[{title:"\u8BA1\u91CF\u5355\u4F4D",dataIndex:"unit",sorter:!0,valueType:"select",valueEnum:{item:"\u4EF6",mass:"\u8D28\u91CF(\u516C\u65A4kg)",volume:"\u4F53\u79EF(\u6BEB\u5347ml)",time:"\u65F6\u95F4(\u5206minute)",length:"\u8DDD\u79BB(\u516C\u91CCkm)",area:"\u9762\u79EF(\u5E73\u65B9\u7C73m2)"},width:"sm",initialValue:"item"},{title:"\u5E93\u5B58\u51CF\u5C11\u65B9\u5F0F",dataIndex:"subStock",sorter:!0,valueType:"select",valueEnum:{order:"\u4E0B\u5355\u51CF\u5E93\u5B58",pay:"\u4ED8\u6B3E\u51CF\u5E93\u5B58",delivery:"\u53D1\u8D27\u6216\u6838\u9500\u51CF\u5E93\u5B58"},width:"sm",initialValue:"order"}]},{valueType:"group",columns:[{title:"\u7269 \u6D41",dataIndex:"delivery",sorter:!0,valueType:"select",valueEnum:{delivery:"\u9700\u8981",eticket:"\u7535\u5B50\u51ED\u8BC1\u4E0D\u9700\u8981"},width:"sm",initialValue:"eticket"},{title:"\u8FD0\u8D39\u627F\u62C5\u65B9\u5F0F",dataIndex:"freightPayer",sorter:!0,valueType:"select",hideInTable:!0,hideInSearch:!0,valueEnum:{seller:"\u5356\u5BB6\u627F\u62C5(\u5305\u90AE)",buyer:"\u4E70\u5BB6\u627F\u62C5"},width:"sm",initialValue:"seller"}]},{valueType:"group",columns:[{title:"\u8D28\u91CF(kg)",dataIndex:"mass",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"},{title:"\u4F53\u79EF-\u957F\u5EA6(m)",dataIndex:"length",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"}]},{valueType:"group",columns:[{title:"\u4F53\u79EF-\u5BBD\u5EA6(m)",dataIndex:"breadth",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"},{title:"\u4F53\u79EF-\u9AD8\u5EA6(m)",dataIndex:"height",sorter:!0,valueType:"digit",hideInTable:!0,hideInSearch:!0,tooltip:"\u96F6\u6216\u6B63\u6570"}]}],v=e(85893),ne=function(a){var c,t=(c=T.useRef)===null||c===void 0?void 0:c(),P=function(){var C=g()(l()().mark(function f(){var o,b,m,S,w;return l()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!p){h.next=7;break}return h.next=3,N==null?void 0:N(p);case 3:if(m=h.sent,!(m!=null&&m.data)){h.next=6;break}return h.abrupt("return",t==null||(S=t.current)===null||S===void 0||(w=S.setFieldsValue)===null||w===void 0?void 0:w.call(S,I()({},m==null?void 0:m.data)));case 6:return h.abrupt("return",t==null||(o=t.current)===null||o===void 0||(b=o.setFieldsValue)===null||b===void 0?void 0:b.call(o,{id:p}));case 7:case"end":return h.stop()}},f)}));return function(){return C.apply(this,arguments)}}(),u={id:"",title:""},p=a.id,s=a.trigger,x=a.onOk,F=n.useRequest===null||n.useRequest===void 0?void 0:(0,n.useRequest)(oe,{manual:!0,onSuccess:function(){var f;r.ZP===null||r.ZP===void 0||(f=r.ZP.success)===null||f===void 0||f.call(r.ZP,"\u63D0\u4EA4\u6210\u529F"),x==null||x()},onError:function(){var f;r.ZP===null||r.ZP===void 0||(f=r.ZP.error)===null||f===void 0||f.call(r.ZP,"\u63D0\u4EA4\u5931\u8D25, \u8BF7\u91CD\u8BD5!")}}),j=F.run,$=F.loading,A=function(){var C=g()(l()().mark(function f(o){return l()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o=I()(I()({},o),{},{id:p}),j==null||j(o),m.abrupt("return",!0);case 3:case"end":return m.stop()}},f)}));return function(o){return C.apply(this,arguments)}}();return(0,v.jsx)(O.Y,{formRef:t,onFinish:A,modalProps:{destroyOnClose:!0,okButtonProps:{loading:$}},onOpenChange:P,initialValues:u,title:"\u7F16\u8F91\u4FE1\u606F",trigger:s,children:(0,v.jsx)(B.Z,{layoutType:"Embed",columns:re})})},se=e(97131),de=e(30077),_=e(14726),D=e(28248),E=e(19515),ve=function(){var a,c,t=(0,T.useState)(""),P=M()(t,2),u=P[0],p=P[1],s=(a=T.useRef)===null||a===void 0?void 0:a(),x=T.useState===null||T.useState===void 0?void 0:(0,T.useState)([]),F=M()(x,2),j=F[0],$=F[1],A=n.useIntl===null||n.useIntl===void 0?void 0:(0,n.useIntl)(),C=r.ZP===null||r.ZP===void 0||(c=r.ZP.useMessage)===null||c===void 0?void 0:c.call(r.ZP),f=M()(C,2),o=f[0],b=f[1],m=n.useRequest===null||n.useRequest===void 0?void 0:(0,n.useRequest)(ie,{manual:!0,onSuccess:function(){var i,d,y;$==null||$([]),s==null||(i=s.current)===null||i===void 0||(d=i.reload)===null||d===void 0||d.call(i),o==null||(y=o.success)===null||y===void 0||y.call(o,"\u5220\u9664\u64CD\u4F5C\u6210\u529F")},onError:function(){var i;o==null||(i=o.error)===null||i===void 0||i.call(o,"\u5220\u9664\u64CD\u4F5C\u5931\u8D25,\u8BF7\u91CD\u8BD5")}}),S=m.run,w=m.loading,te=[].concat(W()(E.P===null||E.P===void 0?void 0:(0,E.P)(re)),[{title:(0,v.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(i,d){var y;return[(0,v.jsx)(ne,{trigger:(0,v.jsx)("a",{children:"\u7F16 \u8F91"}),id:d==null?void 0:d.id,onOk:s==null||(y=s.current)===null||y===void 0?void 0:y.reload}),(0,v.jsx)(_.ZP,{children:"\u7F16\u8F91\u89C4\u683C\u53CA\u4EF7\u683C"}),(0,v.jsx)(_.ZP,{children:"\u4E0A \u67B6"}),(0,v.jsx)(_.ZP,{children:"\u4E0B \u67B6"}),(0,v.jsx)(_.ZP,{children:"\u5220 \u9664"})]}}]),h=(0,T.useCallback)(function(){var R=g()(l()().mark(function i(d){var y;return l()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:D.Z===null||D.Z===void 0||(y=D.Z.confirm)===null||y===void 0||y.call(D.Z,{title:"\u64CD\u4F5C\u63D0\u793A",content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\u8FD9"+(d==null?void 0:d.length)+"\u9879\u4FE1\u606F?\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D",onOk:function(){var X;(X=function(){var fe=g()(l()().mark(function ue(){var q;return l()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,S==null?void 0:S(d==null||(q=d.map)===null||q===void 0?void 0:q.call(d,function(ee){return ee==null?void 0:ee.id}));case 2:case"end":return k.stop()}},ue)}));return function(){return fe.apply(this,arguments)}}())===null||X===void 0||X()}});case 1:case"end":return Q.stop()}},i)}));return function(i){return R.apply(this,arguments)}}(),[S]),ce=function(){var i;p==null||p(E.V===null||E.V===void 0?void 0:(0,E.V)()),s==null||(i=s.current)===null||i===void 0||i.reload()};return T.useEffect===null||T.useEffect===void 0||(0,T.useEffect)(function(){p==null||p(E.V===null||E.V===void 0?void 0:(0,E.V)())},[]),(0,v.jsxs)(se._z,{children:[b,(0,v.jsx)(de.Z,{headerTitle:A==null?void 0:A.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u67E5\u8BE2\u8868\u683C"}),actionRef:s,rowKey:"id",toolBarRender:function(){return[(0,v.jsxs)(v.Fragment,{children:[" ",(0,v.jsx)(_.ZP,{danger:!0,disabled:!j||!j.length,onClick:function(){h(j)},children:"\u5220 \u9664"}),(0,v.jsx)(ne,{trigger:(0,v.jsx)(_.ZP,{type:"primary",children:" \u65B0 \u5EFA "}),id:u,onOk:ce})]})]},request:le,columns:te,rowSelection:{onChange:function(i,d){$(d)}}})]})}},19515:function(ae,V,e){e.d(V,{P:function(){return M},V:function(){return H}});var U=e(64599),l=e.n(U),K=e(19632),g=e.n(K),L=e(27484),W=e.n(L);function H(){var Z=W()().format("YYYYMMDDHHmmssSSS").toString();return Z}function M(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],I=g()(Z),O=l()(I),B;try{for(O.s();!(B=O.n()).done;){var r=B.value;!(r!=null&&r.valueType)||(r==null?void 0:r.valueType)!=="group"||!(r!=null&&r.columns)||!(r!=null&&r.columns.length)||I.push.apply(I,g()(r==null?void 0:r.columns))}}catch(n){O.e(n)}finally{O.f()}return I.filter(function(n){return n.valueType!=="group"})}}}]);
