"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[458],{26441:function(se,Z,e){e.r(Z),e.d(Z,{default:function(){return fe}});var U=e(15009),i=e.n(U),L=e(99289),p=e.n(L),Y=e(19632),K=e.n(Y),G=e(5574),F=e.n(G),D=e(97857),T=e.n(D),$=e(37476),A=e(26855),r=e(2453),n=e(12578);function oe(u,s,t){return W.apply(this,arguments)}function W(){return W=p()(i()().mark(function u(s,t,c){var a;return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a="/staff/web/userCenter/trade/tradeOrder/page.json",o.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(a,{method:"GET",params:{params:s,sort:t,filter:c}}));case 2:case"end":return o.stop()}},u)})),W.apply(this,arguments)}function H(u){return k.apply(this,arguments)}function k(){return k=p()(i()().mark(function u(s){var t;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t="/staff/web/userCenter/trade/tradeOrder/update.json",a.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(t,{method:"POST",data:s}));case 2:case"end":return a.stop()}},u)})),k.apply(this,arguments)}function N(u){return z.apply(this,arguments)}function z(){return z=p()(i()().mark(function u(s){var t;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t="/staff/web/userCenter/trade/tradeOrder/getById.json",a.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(t,{method:"GET",params:{id:s}}));case 2:case"end":return a.stop()}},u)})),z.apply(this,arguments)}function ie(u){return Q.apply(this,arguments)}function Q(){return Q=p()(i()().mark(function u(s){var t;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t="/staff/web/userCenter/trade/tradeOrder/del.json",a.abrupt("return",n.request===null||n.request===void 0?void 0:(0,n.request)(t,{method:"POST",data:T()({},s)}));case 2:case"end":return a.stop()}},u)})),Q.apply(this,arguments)}function pe(){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime().mark(function u(){var s;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s="/staff/web/userCenter/trade/tradeOrder/page.json",c.abrupt("return",request==null?void 0:request(s,{method:"GET",params:{pageNum:1,pageSize:0}}));case 2:case"end":return c.stop()}},u)})),J.apply(this,arguments)}var g=e(67294),ae=[{valueType:"group",columns:[{title:"\u7F16 \u53F7",dataIndex:"outTradeNo",sorter:!0,hideInForm:!0},{title:"\u4E0B\u5355\u65F6\u95F4",dataIndex:"createDate",valueType:"datetime",sorter:!0,hideInSearch:!0,hideInForm:!0},{title:"\u4E0B\u5355\u65F6\u95F4",dataIndex:"createDate",valueType:"dateRange",sorter:!0,hideInTable:!0,hideInForm:!0},{title:"\u603B\u91D1\u989D(\u5143)",dataIndex:"totalAmount",sorter:!0,valueType:"digitRange",hideInTable:!0,hideInForm:!0},{title:"\u603B\u91D1\u989D(\u5143)",dataIndex:"totalAmount",sorter:!0,valueType:"money",hideInSearch:!0},{title:"\u4EA4\u6613\u72B6\u6001",dataIndex:"tradeStateCn",sorter:!0,valueType:"select",valueEnum:{NOTPAY:{text:"\u5F85\u4ED8\u6B3E"},SUCCESS:{text:"\u5DF2\u4ED8\u6B3E"},DELIVERY:{text:"\u5DF2\u53D1\u8D27"}},hideInForm:!0},{title:"\u7C7B \u578B",dataIndex:"countItem",sorter:!0,valueType:"select",valueEnum:{NOTPAY:{text:"\u5F85\u4ED8\u6B3E"},SUCCESS:{text:"\u5DF2\u4ED8\u6B3E"},DELIVERY:{text:"\u5DF2\u53D1\u8D27"}},hideInForm:!0},{title:"\u5546\u54C1\u603B\u6570\u91CF",dataIndex:"sumQuantity",sorter:!0,hideInSearch:!0,valueType:"digit",hideInForm:!0,tooltip:"\u96F6\u6216\u6B63\u6570"},{title:"\u5546\u54C1\u603B\u6570\u91CF",dataIndex:"sumQuantity",sorter:!0,hideInTable:!0,valueType:"digitRange",hideInForm:!0},{title:"\u652F\u4ED8\u65B9\u5F0F",dataIndex:"payType",sorter:!0,valueType:"select",valueEnum:{0:{text:"\u5F85\u4ED8\u6B3E"},alipay:{text:"\u652F\u4ED8\u5B9D"},wxpay:{text:"\u5FAE\u4FE1\u652F\u4ED8"},balance:{text:"\u4F59\u989D\u652F\u4ED8"}},hideInForm:!0}]}],v=e(85893),de=function(u){var s,t=(s=g.useRef)===null||s===void 0?void 0:s(),c=(0,g.useState)(!1),a=F()(c,2),O=a[0],o=a[1],X=function(){var x=p()(i()().mark(function f(){var h,E,l,P,M;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!C){I.next=7;break}return I.next=3,N==null?void 0:N(C);case 3:if(l=I.sent,!(l!=null&&l.data)){I.next=6;break}return I.abrupt("return",t==null||(P=t.current)===null||P===void 0||(M=P.setFieldsValue)===null||M===void 0?void 0:M.call(P,T()({},l==null?void 0:l.data)));case 6:return I.abrupt("return",t==null||(h=t.current)===null||h===void 0||(E=h.setFieldsValue)===null||E===void 0?void 0:E.call(h,{id:C}));case 7:case"end":return I.stop()}},f)}));return function(){return x.apply(this,arguments)}}(),V={id:"",title:""},C=u.id,b=u.trigger,R=u.onOk,q=function(){var x=p()(i()().mark(function f(h){var E,l,P;return i()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return h=T()(T()({},h),{},{id:C}),y.next=3,H==null?void 0:H(h);case 3:if(l=y.sent,(l==null?void 0:l.code)===0){y.next=8;break}return r.ZP===null||r.ZP===void 0||(P=r.ZP.error)===null||P===void 0||P.call(r.ZP,l==null?void 0:l.message),o==null||o(!1),y.abrupt("return",!1);case 8:return r.ZP===null||r.ZP===void 0||(E=r.ZP.success)===null||E===void 0||E.call(r.ZP,"\u63D0\u4EA4\u6210\u529F"),R==null||R(),o==null||o(!1),y.abrupt("return",!0);case 12:case"end":return y.stop()}},f)}));return function(h){return x.apply(this,arguments)}}();return(0,v.jsx)($.Y,{formRef:t,onFinish:q,modalProps:{destroyOnClose:!0,okButtonProps:{loading:O}},onOpenChange:X,initialValues:V,title:"\u7F16\u8F91\u4FE1\u606F",trigger:b,children:(0,v.jsx)(A.Z,{layoutType:"Embed",columns:ae})})},ve=e(97131),ce=e(30077),B=e(28248),ue=e(14726),S=e(19515),fe=function(){var u,s,t=(0,g.useState)(""),c=F()(t,2),a=c[0],O=c[1],o=(u=g.useRef)===null||u===void 0?void 0:u(),X=g.useState===null||g.useState===void 0?void 0:(0,g.useState)([]),V=F()(X,2),C=V[0],b=V[1],R=n.useIntl===null||n.useIntl===void 0?void 0:(0,n.useIntl)(),q=r.ZP===null||r.ZP===void 0||(s=r.ZP.useMessage)===null||s===void 0?void 0:s.call(r.ZP),x=F()(q,2),f=x[0],h=x[1],E=n.useRequest===null||n.useRequest===void 0?void 0:(0,n.useRequest)(ie,{manual:!0,onSuccess:function(){var d,m,_;b==null||b([]),o==null||(d=o.current)===null||d===void 0||(m=d.reload)===null||m===void 0||m.call(d),f==null||(_=f.success)===null||_===void 0||_.call(f,"\u5220\u9664\u64CD\u4F5C\u6210\u529F")},onError:function(){var d;f==null||(d=f.error)===null||d===void 0||d.call(f,"\u5220\u9664\u64CD\u4F5C\u5931\u8D25,\u8BF7\u91CD\u8BD5")}}),l=E.run,P=E.loading,M=[].concat(K()(S.P===null||S.P===void 0?void 0:(0,S.P)(ae)),[{title:(0,v.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(d,m){return[(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("a",{children:"\u8BE6 \u60C5"}),(0,v.jsx)("a",{children:"\u4FEE\u6539\u603B\u91D1\u989D"}),(0,v.jsx)("a",{children:"\u9000 \u6B3E"})]})]}}]),y=(0,g.useCallback)(function(){var j=p()(i()().mark(function d(m){var _;return i()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:B.Z===null||B.Z===void 0||(_=B.Z.confirm)===null||_===void 0||_.call(B.Z,{title:"\u64CD\u4F5C\u63D0\u793A",content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\u8FD9"+(m==null?void 0:m.length)+"\u9879\u4FE1\u606F?\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D",onOk:function(){var re;(re=function(){var me=p()(i()().mark(function le(){var ne;return i()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,l==null?void 0:l(m==null||(ne=m.map)===null||ne===void 0?void 0:ne.call(m,function(te){return te==null?void 0:te.id}));case 2:case"end":return w.stop()}},le)}));return function(){return me.apply(this,arguments)}}())===null||re===void 0||re()}});case 1:case"end":return ee.stop()}},d)}));return function(d){return j.apply(this,arguments)}}(),[l]),I=function(){var d;O==null||O(S.V===null||S.V===void 0?void 0:(0,S.V)()),o==null||(d=o.current)===null||d===void 0||d.reload()};return g.useEffect===null||g.useEffect===void 0||(0,g.useEffect)(function(){O==null||O(S.V===null||S.V===void 0?void 0:(0,S.V)())},[]),(0,v.jsxs)(ve._z,{children:[h,(0,v.jsx)(ce.Z,{headerTitle:R==null?void 0:R.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u67E5\u8BE2\u8868\u683C"}),actionRef:o,rowKey:"id",toolBarRender:function(){return[(0,v.jsxs)(v.Fragment,{children:[" ",(0,v.jsx)(ue.ZP,{danger:!0,disabled:!C||!C.length,onClick:function(){y(C)},children:"\u5220 \u9664"}),(0,v.jsx)(de,{trigger:(0,v.jsx)(ue.ZP,{type:"primary",children:" \u6536 \u94F6 "}),id:a,onOk:I})]})]},request:oe,columns:M,rowSelection:{onChange:function(d,m){b(m)}}})]})}},19515:function(se,Z,e){e.d(Z,{P:function(){return F},V:function(){return G}});var U=e(64599),i=e.n(U),L=e(19632),p=e.n(L),Y=e(27484),K=e.n(Y);function G(){var D=K()().format("YYYYMMDDHHmmssSSS").toString();return D}function F(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=p()(D),$=i()(T),A;try{for($.s();!(A=$.n()).done;){var r=A.value;!(r!=null&&r.valueType)||(r==null?void 0:r.valueType)!=="group"||!(r!=null&&r.columns)||!(r!=null&&r.columns.length)||T.push.apply(T,p()(r==null?void 0:r.columns))}}catch(n){$.e(n)}finally{$.f()}return T.filter(function(n){return n.valueType!=="group"})}}}]);
