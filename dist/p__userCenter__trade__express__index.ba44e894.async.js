"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4],{783:function(oe,D,e){e.r(D),e.d(D,{default:function(){return fe}});var U=e(15009),i=e.n(U),K=e(99289),m=e.n(K),L=e(19632),G=e.n(L),W=e(5574),M=e.n(W),A=e(97857),S=e.n(A),b=e(37476),B=e(26855),r=e(2453),a=e(12578);function ie(l,o,u){return k.apply(this,arguments)}function k(){return k=m()(i()().mark(function l(o,u,c){var t;return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t="/staff/web/userCenter/trade/express/page.json",n.abrupt("return",a.request===null||a.request===void 0?void 0:(0,a.request)(t,{method:"GET",params:{params:o,sort:u,filter:c}}));case 2:case"end":return n.stop()}},l)})),k.apply(this,arguments)}function H(l){return Y.apply(this,arguments)}function Y(){return Y=m()(i()().mark(function l(o){var u;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u="/staff/web/userCenter/trade/express/update.json",t.abrupt("return",a.request===null||a.request===void 0?void 0:(0,a.request)(u,{method:"POST",data:o}));case 2:case"end":return t.stop()}},l)})),Y.apply(this,arguments)}function z(l){return N.apply(this,arguments)}function N(){return N=m()(i()().mark(function l(o){var u;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u="/staff/web/userCenter/trade/express/getById.json",t.abrupt("return",a.request===null||a.request===void 0?void 0:(0,a.request)(u,{method:"GET",params:{id:o}}));case 2:case"end":return t.stop()}},l)})),N.apply(this,arguments)}function de(l){return J.apply(this,arguments)}function J(){return J=m()(i()().mark(function l(o){var u;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u="/staff/web/userCenter/trade/express/del.json",t.abrupt("return",a.request===null||a.request===void 0?void 0:(0,a.request)(u,{method:"POST",data:S()({},o)}));case 2:case"end":return t.stop()}},l)})),J.apply(this,arguments)}function me(){return Q.apply(this,arguments)}function Q(){return Q=_asyncToGenerator(_regeneratorRuntime().mark(function l(){var o;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o="/staff/web/userCenter/trade/express/page.json",c.abrupt("return",request==null?void 0:request(o,{method:"GET",params:{pageNum:1,pageSize:0}}));case 2:case"end":return c.stop()}},l)})),Q.apply(this,arguments)}var g=e(67294),te=[{valueType:"group",columns:[{title:"\u540D \u79F0",dataIndex:"name",sorter:!0,formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}]}}]}],p=e(85893),le=function(l){var o,u=(o=g.useRef)===null||o===void 0?void 0:o(),c=(0,g.useState)(!1),t=M()(c,2),j=t[0],n=t[1],q=function(){var I=m()(i()().mark(function f(){var h,O,s,R,F;return i()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!$){P.next=7;break}return P.next=3,z==null?void 0:z($);case 3:if(s=P.sent,!(s!=null&&s.data)){P.next=6;break}return P.abrupt("return",u==null||(R=u.current)===null||R===void 0||(F=R.setFieldsValue)===null||F===void 0?void 0:F.call(R,S()({},s==null?void 0:s.data)));case 6:return P.abrupt("return",u==null||(h=u.current)===null||h===void 0||(O=h.setFieldsValue)===null||O===void 0?void 0:O.call(h,{id:$}));case 7:case"end":return P.stop()}},f)}));return function(){return I.apply(this,arguments)}}(),w={id:"",title:""},$=l.id,Z=l.trigger,C=l.onOk,ee=function(){var I=m()(i()().mark(function f(h){var O,s,R;return i()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return n==null||n(!0),h=S()(S()({},h),{},{id:$}),y.next=4,H==null?void 0:H(h);case 4:if(s=y.sent,(s==null?void 0:s.code)===0){y.next=9;break}return r.ZP===null||r.ZP===void 0||(R=r.ZP.error)===null||R===void 0||R.call(r.ZP,s==null?void 0:s.message),n==null||n(!1),y.abrupt("return",!1);case 9:return r.ZP===null||r.ZP===void 0||(O=r.ZP.success)===null||O===void 0||O.call(r.ZP,"\u63D0\u4EA4\u6210\u529F"),C==null||C(),n==null||n(!1),y.abrupt("return",!0);case 13:case"end":return y.stop()}},f)}));return function(h){return I.apply(this,arguments)}}();return(0,p.jsx)(b.Y,{formRef:u,onFinish:ee,modalProps:{destroyOnClose:!0,okButtonProps:{loading:j}},onOpenChange:q,initialValues:w,title:"\u7F16\u8F91\u4FE1\u606F",trigger:Z,children:(0,p.jsx)(B.Z,{layoutType:"Embed",columns:te})})},ve=e(97131),ce=e(30077),X=e(14726),V=e(28248),_=e(19515),fe=function(){var l,o,u=(0,g.useState)(""),c=M()(u,2),t=c[0],j=c[1],n=(l=g.useRef)===null||l===void 0?void 0:l(),q=g.useState===null||g.useState===void 0?void 0:(0,g.useState)([]),w=M()(q,2),$=w[0],Z=w[1],C=a.useIntl===null||a.useIntl===void 0?void 0:(0,a.useIntl)(),ee=r.ZP===null||r.ZP===void 0||(o=r.ZP.useMessage)===null||o===void 0?void 0:o.call(r.ZP),I=M()(ee,2),f=I[0],h=I[1],O=a.useRequest===null||a.useRequest===void 0?void 0:(0,a.useRequest)(de,{manual:!0,onSuccess:function(){var d,v,E;Z==null||Z([]),n==null||(d=n.current)===null||d===void 0||(v=d.reload)===null||v===void 0||v.call(d),f==null||(E=f.success)===null||E===void 0||E.call(f,"\u5220\u9664\u64CD\u4F5C\u6210\u529F")},onError:function(){var d;f==null||(d=f.error)===null||d===void 0||d.call(f,"\u5220\u9664\u64CD\u4F5C\u5931\u8D25,\u8BF7\u91CD\u8BD5")}}),s=O.run,R=O.loading,F=[].concat(G()(_.P===null||_.P===void 0?void 0:(0,_.P)(te)),[{title:(0,p.jsx)(a.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(d,v){var E;return[(0,p.jsx)(le,{trigger:(0,p.jsx)(X.ZP,{children:"\u7F16 \u8F91"}),id:v==null?void 0:v.id,onOk:n==null||(E=n.current)===null||E===void 0?void 0:E.reload},v.id)]}}]),y=(0,g.useCallback)(function(){var T=m()(i()().mark(function d(v){var E;return i()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:V.Z===null||V.Z===void 0||(E=V.Z.confirm)===null||E===void 0||E.call(V.Z,{title:"\u64CD\u4F5C\u63D0\u793A",content:"\u662F\u5426\u786E\u5B9A\u5220\u9664\u8FD9"+(v==null?void 0:v.length)+"\u9879\u4FE1\u606F?\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D",onOk:function(){var ne;(ne=function(){var pe=m()(i()().mark(function se(){var ae;return i()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,s==null?void 0:s(v==null||(ae=v.map)===null||ae===void 0?void 0:ae.call(v,function(ue){return ue==null?void 0:ue.id}));case 2:case"end":return x.stop()}},se)}));return function(){return pe.apply(this,arguments)}}())===null||ne===void 0||ne()}});case 1:case"end":return re.stop()}},d)}));return function(d){return T.apply(this,arguments)}}(),[s]),P=function(){var d;j==null||j(_.V===null||_.V===void 0?void 0:(0,_.V)()),n==null||(d=n.current)===null||d===void 0||d.reload()};return g.useEffect===null||g.useEffect===void 0||(0,g.useEffect)(function(){j==null||j(_.V===null||_.V===void 0?void 0:(0,_.V)())},[]),(0,p.jsxs)(ve._z,{children:[h,(0,p.jsx)(ce.Z,{headerTitle:C==null?void 0:C.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u67E5\u8BE2\u8868\u683C"}),actionRef:n,rowKey:"id",toolBarRender:function(){return[(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(X.ZP,{danger:!0,disabled:!$||!$.length,onClick:function(){y($)},children:"\u5220 \u9664"}),(0,p.jsx)(le,{trigger:(0,p.jsx)(X.ZP,{type:"primary",children:" \u65B0 \u5EFA "}),id:t,onOk:P})]})]},request:ie,columns:F,rowSelection:{onChange:function(d,v){Z(v)}}})]})}},19515:function(oe,D,e){e.d(D,{P:function(){return M},V:function(){return W}});var U=e(64599),i=e.n(U),K=e(19632),m=e.n(K),L=e(27484),G=e.n(L);function W(){var A=G()().format("YYYYMMDDHHmmssSSS").toString();return A}function M(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=m()(A),b=i()(S),B;try{for(b.s();!(B=b.n()).done;){var r=B.value;!(r!=null&&r.valueType)||(r==null?void 0:r.valueType)!=="group"||!(r!=null&&r.columns)||!(r!=null&&r.columns.length)||S.push.apply(S,m()(r==null?void 0:r.columns))}}catch(a){b.e(a)}finally{b.f()}return S.filter(function(a){return a.valueType!=="group"})}}}]);
